{"version":3,"sources":["../node_modules/@material-ui/core/esm/CircularProgress/CircularProgress.js","../../src/utils/calculations.utils.ts","../../src/utils/callback.utils.ts","../../src/core/animations/animations.constants.ts","../../src/core/animations/animations.utils.ts","../../src/core/bounds/bounds.utils.ts","../../src/core/zoom/zoom.utils.ts","../../src/core/pan/panning.utils.ts","../../src/core/pan/velocity.utils.ts","../../src/core/pan/velocity.logic.ts","../../src/core/pan/panning.logic.ts","../../src/core/zoom/zoom.logic.ts","../../node_modules/tslib/tslib.es6.js","../../src/constants/state.constants.ts","../../src/utils/state.utils.ts","../../src/core/handlers/handlers.utils.ts","../../src/core/handlers/handlers.logic.ts","../../src/utils/context.utils.ts","../../src/utils/event.utils.ts","../../src/utils/helpers.utils.ts","../../src/utils/styles.utils.ts","../../src/core/wheel/wheel.utils.ts","../../src/core/pinch/pinch.utils.ts","../../src/core/wheel/wheel.logic.ts","../../src/core/pinch/pinch.logic.ts","../../src/core/double-click/double-click.logic.ts","../../src/core/instance.core.ts","../../src/components/transform-wrapper/transform-wrapper.tsx","../../src/components/keep-scale/keep-scale.tsx","../../src/utils/ref.utils.ts","../../node_modules/style-inject/dist/style-inject.es.js","../../src/components/transform-component/transform-component.tsx","../node_modules/classnames/index.js","../node_modules/@ant-design/icons-svg/es/asn/CloseCircleOutlined.js","../node_modules/@ctrl/tinycolor/dist/module/util.js","../node_modules/@ctrl/tinycolor/dist/module/conversion.js","../node_modules/@ctrl/tinycolor/dist/module/css-color-names.js","../node_modules/@ctrl/tinycolor/dist/module/format-input.js","../node_modules/@ant-design/colors/es/generate.js","../node_modules/@ant-design/colors/es/index.js","../node_modules/@ant-design/icons/es/components/Context.js","../node_modules/rc-util/es/warning.js","../node_modules/rc-util/es/Dom/dynamicCSS.js","../node_modules/rc-util/es/Dom/canUseDom.js","../node_modules/rc-util/es/Dom/contains.js","../node_modules/rc-util/es/Dom/shadow.js","../node_modules/@ant-design/icons/es/utils.js","../node_modules/@ant-design/icons/es/components/IconBase.js","../node_modules/@ant-design/icons/es/components/twoTonePrimaryColor.js","../node_modules/@ant-design/icons/es/components/AntdIcon.js","../node_modules/@ant-design/icons/es/icons/CloseCircleOutlined.js"],"names":["SIZE","CircularProgress","React","props","ref","classes","className","_props$color","color","_props$disableShrink","disableShrink","_props$size","size","style","_props$thickness","thickness","_props$value","value","_props$variant","variant","other","_objectWithoutProperties","circleStyle","rootStyle","rootProps","circumference","Math","PI","strokeDasharray","toFixed","round","strokeDashoffset","concat","transform","_extends","clsx","root","capitalize","determinate","indeterminate","static","width","height","role","svg","viewBox","circle","circleDisableShrink","circleDeterminate","circleIndeterminate","circleStatic","cx","cy","r","fill","strokeWidth","withStyles","theme","display","transition","transitions","create","animation","colorPrimary","palette","primary","main","colorSecondary","secondary","stroke","transformOrigin","name","flip","roundNumber","num","decimal","Number","handleCallback","context","event","callback","animations","easeOut","t","cos","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","handleCancelAnimationFrame","cancelAnimationFrame","handleCancelAnimation","contextInstance","mounted","animate","velocity","handleSetupAnimation","animationName","animationTime","startTime","Date","getTime","frameTime","animationProgress","step","animationType","requestAnimationFrame","targetState","isValid","scale","positionX","positionY","isNaN","isValidTargetState","setTransformState","_a","transformState","scaleDiff","positionXDiff","positionYDiff","calculateBounds","newScale","wrapperComponent","contentComponent","centerZoomedOut","setup","Error","wrapperWidth","offsetWidth","wrapperHeight","offsetHeight","newContentWidth","newContentHeight","newDiffWidth","newDiffHeight","getComponentsSizes","bounds","diffWidth","diffHeight","scaleWidthFactor","scaleHeightFactor","minPositionX","maxPositionX","minPositionY","maxPositionY","getBounds","Boolean","boundLimiter","minBound","maxBound","isActive","handleCalculateBounds","getMouseBoundedPosition","limitToBounds","paddingValueX","paddingValueY","paddingX","paddingY","x","y","handleCalculateZoomPositions","mouseX","mouseY","scaleDifference","console","error","checkZoomBounds","zoom","minScale","maxScale","zoomPadding","enablePadding","minScaleWithPadding","isPanningStartAllowed","excluded","panning","isInitialized","target","isWrapperChild","contains","isExcludedNode","isPanningAllowed","isPanning","disabled","getPaddingValue","disablePadding","isVelocityCalculationAllowed","velocityAnimation","isVelocityAllowed","getVelocityPosition","newPosition","startPosition","currentPosition","isLocked","minPosition","maxPosition","minTarget","maxTarget","calculatedPosition","handleCalculateVelocity","position","lastMousePosition","velocityTime","equalToMove","now","sizeMultiplier","min","window","innerWidth","getSizeMultiplier","distanceX","distanceY","velocityX","velocityY","interval","speed","sqrt","total","handlePanningStart","undefined","TouchEvent","touches","length","clientX","clientY","startCoords","handleTouchPanningSetup","handlePanningSetup","handleAlignToBounds","alignmentAnimation","sizeX","sizeY","_b","_c","xChanged","yChanged","_d","handlePanToBounds","handlePanning","lockAxisX","lockAxisY","getPanningClientPosition","newPositionX","newPositionY","handleNewPosition","handlePanningEnd","velocityDisabled","wrapperRect","getBoundingClientRect","contentRect","contentWidth","contentHeight","isZoomed","zoomAnimation","alignAnimationTime","velocityAlignmentTime","moveAnimationTime","sensitivity","getVelocityMoveTime","finalAnimationTime","max","maxTargetX","minTargetX","maxTargetY","minTargetY","startState","alignStep","alignAnimation","customStep","currentPositionX","currentPositionY","handleVelocityPanning","handleZoomToPoint","handleAlignToScaleBounds","mousePositionX","mousePositionY","isDisabled","Object","assign","s","i","n","arguments","p","prototype","hasOwnProperty","call","apply","this","__spreadArray","to","from","pack","ar","l","Array","slice","initialState","initialSetup","centerOnInit","smooth","wheel","smoothStep","wheelDisabled","touchPadDisabled","activationKeys","pinch","doubleClick","mode","createState","previousScale","initialScale","initialPositionX","initialPositionY","createSetup","newSetup","keys","forEach","key","validValue","dataType","toString","isObject","isArray","handleCalculateButtonZoom","delta","targetScale","exp","handleZoomToViewCenter","resetTransformations","onResetTransformation","initialTransformation","newBounds","boundedPositions","newState","zoomIn","zoomOut","setTransform","resetTransform","centerView","getCenterPosition","zoomToElement","node","document","getElementById","customZoom","nodeRect","nodeOffset","element","wrapper","content","state","offset","wrapperOffset","contentOffset","xOff","yOff","getOffset","nodeLeft","nodeTop","nodeWidth","nodeHeight","scaleX","scaleY","offsetX","offsetY","left","top","calculateZoomToNode","getControls","instance","getState","getContext","makePassiveEventOption","passive","err","targetTagName","tagName","toUpperCase","find","tag","classList","cancelTimeout","timeout","clearTimeout","getMousePosition","touch","getTouchDistance","pow","pageX","pageY","handleWheelZoom","onWheel","onZoom","preventDefault","stopPropagation","customDelta","defaultValue","deltaY","getDeltaY","getDelta","disable","getTarget","paddingEnabled","handleCalculateWheelZoom","abs","ctrlKey","mousePosition","isLimitedToBounds","previousWheelEvent","handleWheelStop","onWheelStop","onZoomStop","wheelAnimationTimer","setTimeout","hasStoppedZooming","sign","handleWheelZoomStop","wheelStopEventTimer","handlePinchZoom","pinchStartDistance","midPoint","firstPointX","firstPointY","calculateTouchMidPoint","isFinite","currentDistance","pinchStartScale","calculatePinchZoom","pinchMidpoint","lastDistance","handleDoubleClickStop","doubleClickStopEventTimer","handleDoubleClick","onZoomStart","handleDoubleClickResetMode","ZoomPanPinch","_this","onChangeCallbacks","Set","onInitCallbacks","lastTouch","distance","maxBounds","pressedKeys","mount","initializeWindowEvents","unmount","cleanupWindowEvents","update","newProps","currentDocument","ownerDocument","currentWindow","defaultView","addEventListener","onPanningStart","onPanning","onPanningStop","clearPanning","setKeyUnPressed","setKeyPressed","removeEventListener","observer","disconnect","handleInitializeWrapperEvents","onWheelZoom","onDoubleClick","onTouchPanningStart","onTouchPanning","onTouchPanningStop","handleInitialize","applyTransformation","setCenter","ResizeObserver","observe","isAllowed","isWheelAllowed","isPressingKeys","onWheelStart","handleWheelStart","onPinchStart","onPinchingStart","isPinchStartAllowed","handlePinchStart","onPinch","onPinching","isPinchAllowed","onPinchStop","onPinchingStop","handlePinchStop","isPanningAction","isPinchAction","isDoubleClickAllowed","e","onTransformed","ctx_1","handleTransformStyles","customTransform","getTransformStyles","onChange","has","add","delete","onInit","init","ctx","Context","createContext","TransformWrapper","forwardRef","children","current","createElement","Provider","refs","localRef","css","insertAt","head","getElementsByTagName","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","TransformComponent","wrapperClass","contentClass","wrapperStyle","contentStyle","wrapperProps","_e","contentProps","wrapperRef","contentRef","styles","hasOwn","classNames","arg","argType","push","inner","includes","join","module","exports","default","CloseCircleOutlined","bound01","indexOf","parseFloat","isOnePointZero","isPercent","isPercentage","parseInt","String","convertToPercentage","pad2","c","hue2rgb","q","convertHexToDecimal","h","parseIntFromHex","val","names","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","goldenrod","gold","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavenderblush","lavender","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","inputToRGB","g","b","rgb","a","v","ok","format","trim","toLowerCase","named","match","matchers","exec","rgba","hsl","hsla","hsv","hsva","hex8","hex6","hex4","hex3","stringInputToObject","isValidCSSUnit","substr","floor","f","mod","hsvToRgb","hslToRgb","boundAlpha","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","RegExp","hueStep","saturationStep","saturationStep2","brightnessStep1","brightnessStep2","lightColorCount","darkColorCount","darkColorMap","index","opacity","toHsv","_ref","d","rgbToHsv","toHex","_ref2","allow3Char","hex","startsWith","charAt","rgbToHex","getHue","light","hue","getSaturation","saturation","getValue","generate","opts","patterns","pColor","colorString","_i","_hsv","_colorString","map","_ref3","rgb1","rgb2","amount","mix","backgroundColor","presetPrimaryColors","volcano","geekblue","presetPalettes","presetDarkPalettes","IconContext","warned","preWarningFns","warning","valid","message","note","method","warningOnce","preMessage","fn","resetWarned","noteOnce","APPEND_ORDER","MARK_KEY","containerCache","Map","getMark","mark","getContainer","option","attachTo","querySelector","body","findStyles","container","get","filter","injectCSS","csp","prepend","styleNode","setAttribute","getOrder","nonce","innerHTML","existStyle","getAttribute","nextSibling","findExistNode","updateCSS","cachedRealContainer","parentNode","placeholderStyle","set","removeChild","syncRealContainer","existNode","_option$csp","_option$csp2","_option$csp3","newNode","getRoot","ele","_ele$getRootNode","getRootNode","getShadowRoot","inShadow","isIconDefinition","_typeof","icon","normalizeAttrs","attrs","reduce","acc","class","_objectSpread","child","getSecondaryColor","primaryColor","generateColor","normalizeTwoToneColors","twoToneColor","_excluded","twoToneColorPalette","secondaryColor","calculated","IconBase","onClick","restProps","svgRef","colors","eleRef","_useContext","useContext","prefixCls","mergedStyleStr","replace","useEffect","shadowRoot","useInsertStyles","warn","displayName","getTwoToneColors","setTwoToneColors","setTwoToneColor","_normalizeTwoToneColo","_normalizeTwoToneColo2","_slicedToArray","ReactIcon","Icon","_classNames","spin","rotate","tabIndex","_React$useContext","_React$useContext$pre","rootClassName","classString","_defineProperty","iconTabIndex","svgStyle","msTransform","getTwoToneColor","AntdIcon","CloseCircleOutlinedSvg"],"mappings":"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","file":"static/js/6.928c32ef.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nvar SIZE = 44;\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-block'\n    },\n\n    /* Styles applied to the root element if `variant=\"static\"`. */\n    static: {\n      transition: theme.transitions.create('transform')\n    },\n\n    /* Styles applied to the root element if `variant=\"indeterminate\"`. */\n    indeterminate: {\n      animation: '$circular-rotate 1.4s linear infinite'\n    },\n\n    /* Styles applied to the root element if `variant=\"determinate\"`. */\n    determinate: {\n      transition: theme.transitions.create('transform')\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      color: theme.palette.secondary.main\n    },\n\n    /* Styles applied to the `svg` element. */\n    svg: {\n      display: 'block' // Keeps the progress centered\n\n    },\n\n    /* Styles applied to the `circle` svg path. */\n    circle: {\n      stroke: 'currentColor' // Use butt to follow the specification, by chance, it's already the default CSS value.\n      // strokeLinecap: 'butt',\n\n    },\n\n    /* Styles applied to the `circle` svg path if `variant=\"static\"`. */\n    circleStatic: {\n      transition: theme.transitions.create('stroke-dashoffset')\n    },\n\n    /* Styles applied to the `circle` svg path if `variant=\"indeterminate\"`. */\n    circleIndeterminate: {\n      animation: '$circular-dash 1.4s ease-in-out infinite',\n      // Some default value that looks fine waiting for the animation to kicks in.\n      strokeDasharray: '80px, 200px',\n      strokeDashoffset: '0px' // Add the unit to fix a Edge 16 and below bug.\n\n    },\n\n    /* Styles applied to the `circle` svg path if `variant=\"determinate\"`. */\n    circleDeterminate: {\n      transition: theme.transitions.create('stroke-dashoffset')\n    },\n    '@keyframes circular-rotate': {\n      '0%': {\n        // Fix IE 11 wobbly\n        transformOrigin: '50% 50%'\n      },\n      '100%': {\n        transform: 'rotate(360deg)'\n      }\n    },\n    '@keyframes circular-dash': {\n      '0%': {\n        strokeDasharray: '1px, 200px',\n        strokeDashoffset: '0px'\n      },\n      '50%': {\n        strokeDasharray: '100px, 200px',\n        strokeDashoffset: '-15px'\n      },\n      '100%': {\n        strokeDasharray: '100px, 200px',\n        strokeDashoffset: '-125px'\n      }\n    },\n\n    /* Styles applied to the `circle` svg path if `disableShrink={true}`. */\n    circleDisableShrink: {\n      animation: 'none'\n    }\n  };\n};\n/**\n * ## ARIA\n *\n * If the progress bar is describing the loading progress of a particular region of a page,\n * you should use `aria-describedby` to point to the progress bar, and set the `aria-busy`\n * attribute to `true` on that region until it has finished loading.\n */\n\nvar CircularProgress = /*#__PURE__*/React.forwardRef(function CircularProgress(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'primary' : _props$color,\n      _props$disableShrink = props.disableShrink,\n      disableShrink = _props$disableShrink === void 0 ? false : _props$disableShrink,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 40 : _props$size,\n      style = props.style,\n      _props$thickness = props.thickness,\n      thickness = _props$thickness === void 0 ? 3.6 : _props$thickness,\n      _props$value = props.value,\n      value = _props$value === void 0 ? 0 : _props$value,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'indeterminate' : _props$variant,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"disableShrink\", \"size\", \"style\", \"thickness\", \"value\", \"variant\"]);\n\n  var circleStyle = {};\n  var rootStyle = {};\n  var rootProps = {};\n\n  if (variant === 'determinate' || variant === 'static') {\n    var circumference = 2 * Math.PI * ((SIZE - thickness) / 2);\n    circleStyle.strokeDasharray = circumference.toFixed(3);\n    rootProps['aria-valuenow'] = Math.round(value);\n    circleStyle.strokeDashoffset = \"\".concat(((100 - value) / 100 * circumference).toFixed(3), \"px\");\n    rootStyle.transform = 'rotate(-90deg)';\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, color !== 'inherit' && classes[\"color\".concat(capitalize(color))], {\n      'determinate': classes.determinate,\n      'indeterminate': classes.indeterminate,\n      'static': classes.static\n    }[variant]),\n    style: _extends({\n      width: size,\n      height: size\n    }, rootStyle, style),\n    ref: ref,\n    role: \"progressbar\"\n  }, rootProps, other), /*#__PURE__*/React.createElement(\"svg\", {\n    className: classes.svg,\n    viewBox: \"\".concat(SIZE / 2, \" \").concat(SIZE / 2, \" \").concat(SIZE, \" \").concat(SIZE)\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    className: clsx(classes.circle, disableShrink && classes.circleDisableShrink, {\n      'determinate': classes.circleDeterminate,\n      'indeterminate': classes.circleIndeterminate,\n      'static': classes.circleStatic\n    }[variant]),\n    style: circleStyle,\n    cx: SIZE,\n    cy: SIZE,\n    r: (SIZE - thickness) / 2,\n    fill: \"none\",\n    strokeWidth: thickness\n  })));\n});\nprocess.env.NODE_ENV !== \"production\" ? CircularProgress.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['inherit', 'primary', 'secondary']),\n\n  /**\n   * If `true`, the shrink animation is disabled.\n   * This only works if variant is `indeterminate`.\n   */\n  disableShrink: chainPropTypes(PropTypes.bool, function (props) {\n    if (props.disableShrink && props.variant && props.variant !== 'indeterminate') {\n      return new Error('Material-UI: You have provided the `disableShrink` prop ' + 'with a variant other than `indeterminate`. This will have no effect.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * The size of the circle.\n   * If using a number, the pixel unit is assumed.\n   * If using a string, you need to provide the CSS unit, e.g '3rem'.\n   */\n  size: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The thickness of the circle.\n   */\n  thickness: PropTypes.number,\n\n  /**\n   * The value of the progress indicator for the determinate variant.\n   * Value between 0 and 100.\n   */\n  value: PropTypes.number,\n\n  /**\n   * The variant to use.\n   * Use indeterminate when there is no progress value.\n   */\n  variant: chainPropTypes(PropTypes.oneOf(['determinate', 'indeterminate', 'static']), function (props) {\n    var variant = props.variant;\n\n    if (variant === 'static') {\n      throw new Error('Material-UI: `variant=\"static\"` was deprecated. Use `variant=\"determinate\"` instead.');\n    }\n\n    return null;\n  })\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCircularProgress',\n  flip: false\n})(CircularProgress);","/**\n * Rounds number to given decimal\n * eg. roundNumber(2.34343, 1) => 2.3\n */\nexport var roundNumber = function (num, decimal) {\n    return Number(num.toFixed(decimal));\n};\n/**\n * Checks if value is number, if not it returns default value\n * 1# eg. checkIsNumber(2, 30) => 2\n * 2# eg. checkIsNumber(null, 30) => 30\n */\nexport var checkIsNumber = function (num, defaultValue) {\n    return typeof num === \"number\" ? num : defaultValue;\n};\n","export var handleCallback = function (context, event, callback) {\n    if (callback && typeof callback === \"function\") {\n        callback(context, event);\n    }\n};\n","/* eslint-disable no-plusplus */\n/* eslint-disable no-param-reassign */\n/**\n * Functions should return denominator of the target value, which is the next animation step.\n * t is a value from 0 to 1, reflecting the percentage of animation status.\n */\nvar easeOut = function (t) {\n    return -Math.cos(t * Math.PI) / 2 + 0.5;\n};\n// linear\nvar linear = function (t) {\n    return t;\n};\n// accelerating from zero velocity\nvar easeInQuad = function (t) {\n    return t * t;\n};\n// decelerating to zero velocity\nvar easeOutQuad = function (t) {\n    return t * (2 - t);\n};\n// acceleration until halfway, then deceleration\nvar easeInOutQuad = function (t) {\n    return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n};\n// accelerating from zero velocity\nvar easeInCubic = function (t) {\n    return t * t * t;\n};\n// decelerating to zero velocity\nvar easeOutCubic = function (t) {\n    return --t * t * t + 1;\n};\n// acceleration until halfway, then deceleration\nvar easeInOutCubic = function (t) {\n    return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n};\n// accelerating from zero velocity\nvar easeInQuart = function (t) {\n    return t * t * t * t;\n};\n// decelerating to zero velocity\nvar easeOutQuart = function (t) {\n    return 1 - --t * t * t * t;\n};\n// acceleration until halfway, then deceleration\nvar easeInOutQuart = function (t) {\n    return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n};\n// accelerating from zero velocity\nvar easeInQuint = function (t) {\n    return t * t * t * t * t;\n};\n// decelerating to zero velocity\nvar easeOutQuint = function (t) {\n    return 1 + --t * t * t * t * t;\n};\n// acceleration until halfway, then deceleration\nvar easeInOutQuint = function (t) {\n    return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n};\nexport var animations = {\n    easeOut: easeOut,\n    linear: linear,\n    easeInQuad: easeInQuad,\n    easeOutQuad: easeOutQuad,\n    easeInOutQuad: easeInOutQuad,\n    easeInCubic: easeInCubic,\n    easeOutCubic: easeOutCubic,\n    easeInOutCubic: easeInOutCubic,\n    easeInQuart: easeInQuart,\n    easeOutQuart: easeOutQuart,\n    easeInOutQuart: easeInOutQuart,\n    easeInQuint: easeInQuint,\n    easeOutQuint: easeOutQuint,\n    easeInOutQuint: easeInOutQuint,\n};\n","/* eslint-disable no-param-reassign */\nimport { animations } from \"./animations.constants\";\nvar handleCancelAnimationFrame = function (animation) {\n    if (typeof animation === \"number\") {\n        cancelAnimationFrame(animation);\n    }\n};\nexport var handleCancelAnimation = function (contextInstance) {\n    if (!contextInstance.mounted)\n        return;\n    handleCancelAnimationFrame(contextInstance.animation);\n    // Clear animation state\n    contextInstance.animate = false;\n    contextInstance.animation = null;\n    contextInstance.velocity = null;\n};\nexport function handleSetupAnimation(contextInstance, animationName, animationTime, callback) {\n    if (!contextInstance.mounted)\n        return;\n    var startTime = new Date().getTime();\n    var lastStep = 1;\n    // if another animation is active\n    handleCancelAnimation(contextInstance);\n    // new animation\n    contextInstance.animation = function () {\n        if (!contextInstance.mounted) {\n            return handleCancelAnimationFrame(contextInstance.animation);\n        }\n        var frameTime = new Date().getTime() - startTime;\n        var animationProgress = frameTime / animationTime;\n        var animationType = animations[animationName];\n        var step = animationType(animationProgress);\n        if (frameTime >= animationTime) {\n            callback(lastStep);\n            contextInstance.animation = null;\n        }\n        else if (contextInstance.animation) {\n            callback(step);\n            requestAnimationFrame(contextInstance.animation);\n        }\n    };\n    requestAnimationFrame(contextInstance.animation);\n}\nfunction isValidTargetState(targetState) {\n    var scale = targetState.scale, positionX = targetState.positionX, positionY = targetState.positionY;\n    if (Number.isNaN(scale) ||\n        Number.isNaN(positionX) ||\n        Number.isNaN(positionY)) {\n        return false;\n    }\n    return true;\n}\nexport function animate(contextInstance, targetState, animationTime, animationName) {\n    var isValid = isValidTargetState(targetState);\n    if (!contextInstance.mounted || !isValid)\n        return;\n    var setTransformState = contextInstance.setTransformState;\n    var _a = contextInstance.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n    var scaleDiff = targetState.scale - scale;\n    var positionXDiff = targetState.positionX - positionX;\n    var positionYDiff = targetState.positionY - positionY;\n    if (animationTime === 0) {\n        setTransformState(targetState.scale, targetState.positionX, targetState.positionY);\n    }\n    else {\n        // animation start timestamp\n        handleSetupAnimation(contextInstance, animationName, animationTime, function (step) {\n            var newScale = scale + scaleDiff * step;\n            var newPositionX = positionX + positionXDiff * step;\n            var newPositionY = positionY + positionYDiff * step;\n            setTransformState(newScale, newPositionX, newPositionY);\n        });\n    }\n}\n","/* eslint-disable no-param-reassign */\nimport { roundNumber } from \"../../utils\";\nexport function getComponentsSizes(wrapperComponent, contentComponent, newScale) {\n    var wrapperWidth = wrapperComponent.offsetWidth;\n    var wrapperHeight = wrapperComponent.offsetHeight;\n    var contentWidth = contentComponent.offsetWidth;\n    var contentHeight = contentComponent.offsetHeight;\n    var newContentWidth = contentWidth * newScale;\n    var newContentHeight = contentHeight * newScale;\n    var newDiffWidth = wrapperWidth - newContentWidth;\n    var newDiffHeight = wrapperHeight - newContentHeight;\n    return {\n        wrapperWidth: wrapperWidth,\n        wrapperHeight: wrapperHeight,\n        newContentWidth: newContentWidth,\n        newDiffWidth: newDiffWidth,\n        newContentHeight: newContentHeight,\n        newDiffHeight: newDiffHeight,\n    };\n}\nexport var getBounds = function (wrapperWidth, newContentWidth, diffWidth, wrapperHeight, newContentHeight, diffHeight, centerZoomedOut) {\n    var scaleWidthFactor = wrapperWidth > newContentWidth\n        ? diffWidth * (centerZoomedOut ? 1 : 0.5)\n        : 0;\n    var scaleHeightFactor = wrapperHeight > newContentHeight\n        ? diffHeight * (centerZoomedOut ? 1 : 0.5)\n        : 0;\n    var minPositionX = wrapperWidth - newContentWidth - scaleWidthFactor;\n    var maxPositionX = scaleWidthFactor;\n    var minPositionY = wrapperHeight - newContentHeight - scaleHeightFactor;\n    var maxPositionY = scaleHeightFactor;\n    return { minPositionX: minPositionX, maxPositionX: maxPositionX, minPositionY: minPositionY, maxPositionY: maxPositionY };\n};\nexport var calculateBounds = function (contextInstance, newScale) {\n    var wrapperComponent = contextInstance.wrapperComponent, contentComponent = contextInstance.contentComponent;\n    var centerZoomedOut = contextInstance.setup.centerZoomedOut;\n    if (!wrapperComponent || !contentComponent) {\n        throw new Error(\"Components are not mounted\");\n    }\n    var _a = getComponentsSizes(wrapperComponent, contentComponent, newScale), wrapperWidth = _a.wrapperWidth, wrapperHeight = _a.wrapperHeight, newContentWidth = _a.newContentWidth, newDiffWidth = _a.newDiffWidth, newContentHeight = _a.newContentHeight, newDiffHeight = _a.newDiffHeight;\n    var bounds = getBounds(wrapperWidth, newContentWidth, newDiffWidth, wrapperHeight, newContentHeight, newDiffHeight, Boolean(centerZoomedOut));\n    return bounds;\n};\n/**\n * Keeps value between given bounds, used for limiting view to given boundaries\n * 1# eg. boundLimiter(2, 0, 3, true) => 2\n * 2# eg. boundLimiter(4, 0, 3, true) => 3\n * 3# eg. boundLimiter(-2, 0, 3, true) => 0\n * 4# eg. boundLimiter(10, 0, 3, false) => 10\n */\nexport var boundLimiter = function (value, minBound, maxBound, isActive) {\n    if (!isActive)\n        return roundNumber(value, 2);\n    if (value < minBound)\n        return roundNumber(minBound, 2);\n    if (value > maxBound)\n        return roundNumber(maxBound, 2);\n    return roundNumber(value, 2);\n};\nexport var handleCalculateBounds = function (contextInstance, newScale) {\n    var bounds = calculateBounds(contextInstance, newScale);\n    // Save bounds\n    contextInstance.bounds = bounds;\n    return bounds;\n};\nexport function getMouseBoundedPosition(positionX, positionY, bounds, limitToBounds, paddingValueX, paddingValueY, wrapperComponent) {\n    var minPositionX = bounds.minPositionX, minPositionY = bounds.minPositionY, maxPositionX = bounds.maxPositionX, maxPositionY = bounds.maxPositionY;\n    var paddingX = 0;\n    var paddingY = 0;\n    if (wrapperComponent) {\n        paddingX = paddingValueX;\n        paddingY = paddingValueY;\n    }\n    var x = boundLimiter(positionX, minPositionX - paddingX, maxPositionX + paddingX, limitToBounds);\n    var y = boundLimiter(positionY, minPositionY - paddingY, maxPositionY + paddingY, limitToBounds);\n    return { x: x, y: y };\n}\n","import { getMouseBoundedPosition } from \"../bounds/bounds.utils\";\nexport function handleCalculateZoomPositions(contextInstance, mouseX, mouseY, newScale, bounds, limitToBounds) {\n    var _a = contextInstance.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n    var scaleDifference = newScale - scale;\n    if (typeof mouseX !== \"number\" || typeof mouseY !== \"number\") {\n        console.error(\"Mouse X and Y position were not provided!\");\n        return { x: positionX, y: positionY };\n    }\n    var calculatedPositionX = positionX - mouseX * scaleDifference;\n    var calculatedPositionY = positionY - mouseY * scaleDifference;\n    // do not limit to bounds when there is padding animation,\n    // it causes animation strange behaviour\n    var newPositions = getMouseBoundedPosition(calculatedPositionX, calculatedPositionY, bounds, limitToBounds, 0, 0, null);\n    return newPositions;\n}\nexport function checkZoomBounds(zoom, minScale, maxScale, zoomPadding, enablePadding) {\n    var scalePadding = enablePadding ? zoomPadding : 0;\n    var minScaleWithPadding = minScale - scalePadding;\n    if (!Number.isNaN(maxScale) && zoom >= maxScale)\n        return maxScale;\n    if (!Number.isNaN(minScale) && zoom <= minScaleWithPadding)\n        return minScaleWithPadding;\n    return zoom;\n}\n","import { isExcludedNode } from \"../../utils\";\nimport { getMouseBoundedPosition } from \"../bounds/bounds.utils\";\nimport { handleCalculateZoomPositions } from \"../zoom/zoom.utils\";\nexport var isPanningStartAllowed = function (contextInstance, event) {\n    var excluded = contextInstance.setup.panning.excluded;\n    var isInitialized = contextInstance.isInitialized, wrapperComponent = contextInstance.wrapperComponent;\n    var target = event.target;\n    var isWrapperChild = wrapperComponent === null || wrapperComponent === void 0 ? void 0 : wrapperComponent.contains(target);\n    var isAllowed = isInitialized && target && isWrapperChild;\n    if (!isAllowed)\n        return false;\n    var isExcluded = isExcludedNode(target, excluded);\n    if (isExcluded)\n        return false;\n    return true;\n};\nexport var isPanningAllowed = function (contextInstance) {\n    var isInitialized = contextInstance.isInitialized, isPanning = contextInstance.isPanning, setup = contextInstance.setup;\n    var disabled = setup.panning.disabled;\n    var isAllowed = isInitialized && isPanning && !disabled;\n    if (!isAllowed)\n        return false;\n    return true;\n};\nexport var handlePanningSetup = function (contextInstance, event) {\n    var _a = contextInstance.transformState, positionX = _a.positionX, positionY = _a.positionY;\n    contextInstance.isPanning = true;\n    // Panning with mouse\n    var x = event.clientX;\n    var y = event.clientY;\n    contextInstance.startCoords = { x: x - positionX, y: y - positionY };\n};\nexport var handleTouchPanningSetup = function (contextInstance, event) {\n    var touches = event.touches;\n    var _a = contextInstance.transformState, positionX = _a.positionX, positionY = _a.positionY;\n    contextInstance.isPanning = true;\n    // Panning with touch\n    var oneFingerTouch = touches.length === 1;\n    if (oneFingerTouch) {\n        var x = touches[0].clientX;\n        var y = touches[0].clientY;\n        contextInstance.startCoords = { x: x - positionX, y: y - positionY };\n    }\n};\nexport function handlePanToBounds(contextInstance) {\n    var _a = contextInstance.transformState, positionX = _a.positionX, positionY = _a.positionY, scale = _a.scale;\n    var _b = contextInstance.setup, disabled = _b.disabled, limitToBounds = _b.limitToBounds, centerZoomedOut = _b.centerZoomedOut;\n    var wrapperComponent = contextInstance.wrapperComponent;\n    if (disabled || !wrapperComponent || !contextInstance.bounds)\n        return;\n    var _c = contextInstance.bounds, maxPositionX = _c.maxPositionX, minPositionX = _c.minPositionX, maxPositionY = _c.maxPositionY, minPositionY = _c.minPositionY;\n    var xChanged = positionX > maxPositionX || positionX < minPositionX;\n    var yChanged = positionY > maxPositionY || positionY < minPositionY;\n    var mousePosX = positionX > maxPositionX\n        ? wrapperComponent.offsetWidth\n        : contextInstance.setup.minPositionX || 0;\n    var mousePosY = positionY > maxPositionY\n        ? wrapperComponent.offsetHeight\n        : contextInstance.setup.minPositionY || 0;\n    var _d = handleCalculateZoomPositions(contextInstance, mousePosX, mousePosY, scale, contextInstance.bounds, limitToBounds || centerZoomedOut), x = _d.x, y = _d.y;\n    return {\n        scale: scale,\n        positionX: xChanged ? x : positionX,\n        positionY: yChanged ? y : positionY,\n    };\n}\nexport function handlePaddingAnimation(contextInstance, positionX, positionY) {\n    var scale = contextInstance.transformState.scale;\n    var _a = contextInstance.setup.alignmentAnimation, sizeX = _a.sizeX, sizeY = _a.sizeY;\n    if (!sizeX && !sizeY)\n        return;\n    contextInstance.setTransformState(scale, positionX, positionY);\n}\nexport function handleNewPosition(contextInstance, newPositionX, newPositionY, paddingValueX, paddingValueY) {\n    var limitToBounds = contextInstance.setup.limitToBounds;\n    var wrapperComponent = contextInstance.wrapperComponent, bounds = contextInstance.bounds;\n    var _a = contextInstance.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n    if (wrapperComponent === null ||\n        bounds === null ||\n        (newPositionX === positionX && newPositionY === positionY)) {\n        return;\n    }\n    var _b = getMouseBoundedPosition(newPositionX, newPositionY, bounds, limitToBounds, paddingValueX, paddingValueY, wrapperComponent), x = _b.x, y = _b.y;\n    contextInstance.setTransformState(scale, x, y);\n}\nexport var getPanningClientPosition = function (contextInstance, clientX, clientY) {\n    var startCoords = contextInstance.startCoords, transformState = contextInstance.transformState;\n    var panning = contextInstance.setup.panning;\n    var lockAxisX = panning.lockAxisX, lockAxisY = panning.lockAxisY;\n    var positionX = transformState.positionX, positionY = transformState.positionY;\n    if (!startCoords) {\n        return { x: positionX, y: positionY };\n    }\n    var mouseX = clientX - startCoords.x;\n    var mouseY = clientY - startCoords.y;\n    var newPositionX = lockAxisX ? positionX : mouseX;\n    var newPositionY = lockAxisY ? positionY : mouseY;\n    return { x: newPositionX, y: newPositionY };\n};\nexport var getPaddingValue = function (contextInstance, size) {\n    var setup = contextInstance.setup, transformState = contextInstance.transformState;\n    var scale = transformState.scale;\n    var minScale = setup.minScale, disablePadding = setup.disablePadding;\n    if (size > 0 && scale >= minScale && !disablePadding) {\n        return size;\n    }\n    return 0;\n};\n","import { boundLimiter } from \"../bounds/bounds.utils\";\nexport var isVelocityCalculationAllowed = function (contextInstance) {\n    var mounted = contextInstance.mounted;\n    var _a = contextInstance.setup, disabled = _a.disabled, velocityAnimation = _a.velocityAnimation;\n    var scale = contextInstance.transformState.scale;\n    var disabledVelocity = velocityAnimation.disabled;\n    var isAllowed = !disabledVelocity || scale > 1 || !disabled || mounted;\n    if (!isAllowed)\n        return false;\n    return true;\n};\nexport var isVelocityAllowed = function (contextInstance) {\n    var mounted = contextInstance.mounted, velocity = contextInstance.velocity, bounds = contextInstance.bounds;\n    var _a = contextInstance.setup, disabled = _a.disabled, velocityAnimation = _a.velocityAnimation;\n    var scale = contextInstance.transformState.scale;\n    var disabledVelocity = velocityAnimation.disabled;\n    var isAllowed = !disabledVelocity || scale > 1 || !disabled || mounted;\n    if (!isAllowed)\n        return false;\n    if (!velocity || !bounds)\n        return false;\n    return true;\n};\nexport function getVelocityMoveTime(contextInstance, velocity) {\n    var velocityAnimation = contextInstance.setup.velocityAnimation;\n    var equalToMove = velocityAnimation.equalToMove, animationTime = velocityAnimation.animationTime, sensitivity = velocityAnimation.sensitivity;\n    if (equalToMove) {\n        return animationTime * velocity * sensitivity;\n    }\n    return animationTime;\n}\nexport function getVelocityPosition(newPosition, startPosition, currentPosition, isLocked, limitToBounds, minPosition, maxPosition, minTarget, maxTarget, step) {\n    if (limitToBounds) {\n        if (startPosition > maxPosition && currentPosition > maxPosition) {\n            var calculatedPosition = maxPosition + (newPosition - maxPosition) * step;\n            if (calculatedPosition > maxTarget)\n                return maxTarget;\n            if (calculatedPosition < maxPosition)\n                return maxPosition;\n            return calculatedPosition;\n        }\n        if (startPosition < minPosition && currentPosition < minPosition) {\n            var calculatedPosition = minPosition + (newPosition - minPosition) * step;\n            if (calculatedPosition < minTarget)\n                return minTarget;\n            if (calculatedPosition > minPosition)\n                return minPosition;\n            return calculatedPosition;\n        }\n    }\n    if (isLocked)\n        return startPosition;\n    return boundLimiter(newPosition, minPosition, maxPosition, limitToBounds);\n}\n","import { animations } from \"../animations/animations.constants\";\nimport { handleSetupAnimation } from \"../animations/animations.utils\";\nimport { getPaddingValue } from \"./panning.utils\";\nimport { getVelocityPosition, getVelocityMoveTime, isVelocityAllowed, isVelocityCalculationAllowed, } from \"./velocity.utils\";\nexport function getSizeMultiplier(wrapperComponent, equalToMove) {\n    var defaultMultiplier = 1;\n    if (equalToMove) {\n        return Math.min(defaultMultiplier, wrapperComponent.offsetWidth / window.innerWidth);\n    }\n    return defaultMultiplier;\n}\nexport function handleCalculateVelocity(contextInstance, position) {\n    var isAllowed = isVelocityCalculationAllowed(contextInstance);\n    if (!isAllowed) {\n        return;\n    }\n    var lastMousePosition = contextInstance.lastMousePosition, velocityTime = contextInstance.velocityTime, setup = contextInstance.setup;\n    var wrapperComponent = contextInstance.wrapperComponent;\n    var equalToMove = setup.velocityAnimation.equalToMove;\n    var now = Date.now();\n    if (lastMousePosition && velocityTime && wrapperComponent) {\n        var sizeMultiplier = getSizeMultiplier(wrapperComponent, equalToMove);\n        var distanceX = position.x - lastMousePosition.x;\n        var distanceY = position.y - lastMousePosition.y;\n        var velocityX = distanceX / sizeMultiplier;\n        var velocityY = distanceY / sizeMultiplier;\n        var interval = now - velocityTime;\n        var speed = distanceX * distanceX + distanceY * distanceY;\n        var velocity = Math.sqrt(speed) / interval;\n        contextInstance.velocity = { velocityX: velocityX, velocityY: velocityY, total: velocity };\n    }\n    contextInstance.lastMousePosition = position;\n    contextInstance.velocityTime = now;\n}\nexport function handleVelocityPanning(contextInstance) {\n    var velocity = contextInstance.velocity, bounds = contextInstance.bounds, setup = contextInstance.setup, wrapperComponent = contextInstance.wrapperComponent;\n    var isAllowed = isVelocityAllowed(contextInstance);\n    if (!isAllowed || !velocity || !bounds || !wrapperComponent) {\n        return;\n    }\n    var velocityX = velocity.velocityX, velocityY = velocity.velocityY, total = velocity.total;\n    var maxPositionX = bounds.maxPositionX, minPositionX = bounds.minPositionX, maxPositionY = bounds.maxPositionY, minPositionY = bounds.minPositionY;\n    var limitToBounds = setup.limitToBounds, alignmentAnimation = setup.alignmentAnimation;\n    var zoomAnimation = setup.zoomAnimation, panning = setup.panning;\n    var lockAxisY = panning.lockAxisY, lockAxisX = panning.lockAxisX;\n    var animationType = zoomAnimation.animationType;\n    var sizeX = alignmentAnimation.sizeX, sizeY = alignmentAnimation.sizeY, velocityAlignmentTime = alignmentAnimation.velocityAlignmentTime;\n    var alignAnimationTime = velocityAlignmentTime;\n    var moveAnimationTime = getVelocityMoveTime(contextInstance, total);\n    var finalAnimationTime = Math.max(moveAnimationTime, alignAnimationTime);\n    var paddingValueX = getPaddingValue(contextInstance, sizeX);\n    var paddingValueY = getPaddingValue(contextInstance, sizeY);\n    var paddingX = (paddingValueX * wrapperComponent.offsetWidth) / 100;\n    var paddingY = (paddingValueY * wrapperComponent.offsetHeight) / 100;\n    var maxTargetX = maxPositionX + paddingX;\n    var minTargetX = minPositionX - paddingX;\n    var maxTargetY = maxPositionY + paddingY;\n    var minTargetY = minPositionY - paddingY;\n    var startState = contextInstance.transformState;\n    var startTime = new Date().getTime();\n    handleSetupAnimation(contextInstance, animationType, finalAnimationTime, function (step) {\n        var _a = contextInstance.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n        var frameTime = new Date().getTime() - startTime;\n        var animationProgress = frameTime / alignAnimationTime;\n        var alignAnimation = animations[alignmentAnimation.animationType];\n        var alignStep = 1 - alignAnimation(Math.min(1, animationProgress));\n        var customStep = 1 - step;\n        var newPositionX = positionX + velocityX * customStep;\n        var newPositionY = positionY + velocityY * customStep;\n        var currentPositionX = getVelocityPosition(newPositionX, startState.positionX, positionX, lockAxisX, limitToBounds, minPositionX, maxPositionX, minTargetX, maxTargetX, alignStep);\n        var currentPositionY = getVelocityPosition(newPositionY, startState.positionY, positionY, lockAxisY, limitToBounds, minPositionY, maxPositionY, minTargetY, maxTargetY, alignStep);\n        if (positionX !== newPositionX || positionY !== newPositionY) {\n            contextInstance.setTransformState(scale, currentPositionX, currentPositionY);\n        }\n    });\n}\n","import { animate, handleCancelAnimation } from \"../animations/animations.utils\";\nimport { handleCalculateBounds } from \"../bounds/bounds.utils\";\nimport { getPaddingValue, getPanningClientPosition, handleNewPosition, handlePanningSetup, handlePanToBounds, handleTouchPanningSetup, } from \"./panning.utils\";\nimport { handleVelocityPanning, handleCalculateVelocity, } from \"./velocity.logic\";\nexport function handlePanningStart(contextInstance, event) {\n    var scale = contextInstance.transformState.scale;\n    handleCancelAnimation(contextInstance);\n    handleCalculateBounds(contextInstance, scale);\n    if (window.TouchEvent !== undefined && event instanceof TouchEvent) {\n        handleTouchPanningSetup(contextInstance, event);\n    }\n    else {\n        handlePanningSetup(contextInstance, event);\n    }\n}\nexport function handleAlignToBounds(contextInstance) {\n    var scale = contextInstance.transformState.scale;\n    var _a = contextInstance.setup, minScale = _a.minScale, alignmentAnimation = _a.alignmentAnimation;\n    var disabled = alignmentAnimation.disabled, sizeX = alignmentAnimation.sizeX, sizeY = alignmentAnimation.sizeY, animationTime = alignmentAnimation.animationTime, animationType = alignmentAnimation.animationType;\n    var isDisabled = disabled || scale < minScale || (!sizeX && !sizeY);\n    if (isDisabled)\n        return;\n    var targetState = handlePanToBounds(contextInstance);\n    if (targetState) {\n        animate(contextInstance, targetState, animationTime, animationType);\n    }\n}\nexport function handlePanning(contextInstance, clientX, clientY) {\n    var startCoords = contextInstance.startCoords, setup = contextInstance.setup;\n    var _a = setup.alignmentAnimation, sizeX = _a.sizeX, sizeY = _a.sizeY;\n    if (!startCoords)\n        return;\n    var _b = getPanningClientPosition(contextInstance, clientX, clientY), x = _b.x, y = _b.y;\n    var paddingValueX = getPaddingValue(contextInstance, sizeX);\n    var paddingValueY = getPaddingValue(contextInstance, sizeY);\n    handleCalculateVelocity(contextInstance, { x: x, y: y });\n    handleNewPosition(contextInstance, x, y, paddingValueX, paddingValueY);\n}\nexport function handlePanningEnd(contextInstance) {\n    if (contextInstance.isPanning) {\n        var velocityDisabled = contextInstance.setup.panning.velocityDisabled;\n        var velocity = contextInstance.velocity, wrapperComponent = contextInstance.wrapperComponent, contentComponent = contextInstance.contentComponent;\n        contextInstance.isPanning = false;\n        contextInstance.animate = false;\n        contextInstance.animation = null;\n        var wrapperRect = wrapperComponent === null || wrapperComponent === void 0 ? void 0 : wrapperComponent.getBoundingClientRect();\n        var contentRect = contentComponent === null || contentComponent === void 0 ? void 0 : contentComponent.getBoundingClientRect();\n        var wrapperWidth = (wrapperRect === null || wrapperRect === void 0 ? void 0 : wrapperRect.width) || 0;\n        var wrapperHeight = (wrapperRect === null || wrapperRect === void 0 ? void 0 : wrapperRect.height) || 0;\n        var contentWidth = (contentRect === null || contentRect === void 0 ? void 0 : contentRect.width) || 0;\n        var contentHeight = (contentRect === null || contentRect === void 0 ? void 0 : contentRect.height) || 0;\n        var isZoomed = wrapperWidth < contentWidth || wrapperHeight < contentHeight;\n        var shouldAnimate = !velocityDisabled && velocity && (velocity === null || velocity === void 0 ? void 0 : velocity.total) > 0.1 && isZoomed;\n        if (shouldAnimate) {\n            handleVelocityPanning(contextInstance);\n        }\n        else {\n            handleAlignToBounds(contextInstance);\n        }\n    }\n}\n","import { roundNumber } from \"../../utils\";\nimport { animate } from \"../animations/animations.utils\";\nimport { handleCalculateBounds } from \"../bounds/bounds.utils\";\nimport { handleAlignToBounds } from \"../pan/panning.logic\";\nimport { checkZoomBounds, handleCalculateZoomPositions } from \"./zoom.utils\";\nexport function handleZoomToPoint(contextInstance, scale, mouseX, mouseY) {\n    var _a = contextInstance.setup, minScale = _a.minScale, maxScale = _a.maxScale, limitToBounds = _a.limitToBounds;\n    var newScale = checkZoomBounds(roundNumber(scale, 2), minScale, maxScale, 0, false);\n    var bounds = handleCalculateBounds(contextInstance, newScale);\n    var _b = handleCalculateZoomPositions(contextInstance, mouseX, mouseY, newScale, bounds, limitToBounds), x = _b.x, y = _b.y;\n    return { scale: newScale, positionX: x, positionY: y };\n}\nexport function handleAlignToScaleBounds(contextInstance, mousePositionX, mousePositionY) {\n    var scale = contextInstance.transformState.scale;\n    var wrapperComponent = contextInstance.wrapperComponent;\n    var _a = contextInstance.setup, minScale = _a.minScale, limitToBounds = _a.limitToBounds, zoomAnimation = _a.zoomAnimation;\n    var disabled = zoomAnimation.disabled, animationTime = zoomAnimation.animationTime, animationType = zoomAnimation.animationType;\n    var isDisabled = disabled || scale >= minScale;\n    if (scale >= 1 || limitToBounds) {\n        // fire fit to bounds animation\n        handleAlignToBounds(contextInstance);\n    }\n    if (isDisabled || !wrapperComponent || !contextInstance.mounted)\n        return;\n    var mouseX = mousePositionX || wrapperComponent.offsetWidth / 2;\n    var mouseY = mousePositionY || wrapperComponent.offsetHeight / 2;\n    var targetState = handleZoomToPoint(contextInstance, minScale, mouseX, mouseY);\n    if (targetState) {\n        animate(contextInstance, targetState, animationTime, animationType);\n    }\n}\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.push(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.push(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","export var initialState = {\n    previousScale: 1,\n    scale: 1,\n    positionX: 0,\n    positionY: 0,\n};\nexport var initialSetup = {\n    disabled: false,\n    minPositionX: null,\n    maxPositionX: null,\n    minPositionY: null,\n    maxPositionY: null,\n    minScale: 1,\n    maxScale: 8,\n    limitToBounds: true,\n    centerZoomedOut: false,\n    centerOnInit: false,\n    disablePadding: false,\n    smooth: true,\n    wheel: {\n        step: 0.2,\n        disabled: false,\n        smoothStep: 0.001,\n        wheelDisabled: false,\n        touchPadDisabled: false,\n        activationKeys: [],\n        excluded: [],\n    },\n    panning: {\n        disabled: false,\n        velocityDisabled: false,\n        lockAxisX: false,\n        lockAxisY: false,\n        activationKeys: [],\n        excluded: [],\n    },\n    pinch: {\n        step: 5,\n        disabled: false,\n        excluded: [],\n    },\n    doubleClick: {\n        disabled: false,\n        step: 0.7,\n        mode: \"zoomIn\",\n        animationType: \"easeOut\",\n        animationTime: 200,\n        excluded: [],\n    },\n    zoomAnimation: {\n        disabled: false,\n        size: 0.4,\n        animationTime: 200,\n        animationType: \"easeOut\",\n    },\n    alignmentAnimation: {\n        disabled: false,\n        sizeX: 100,\n        sizeY: 100,\n        animationTime: 200,\n        velocityAlignmentTime: 400,\n        animationType: \"easeOut\",\n    },\n    velocityAnimation: {\n        disabled: false,\n        sensitivity: 1,\n        animationTime: 400,\n        animationType: \"easeOut\",\n        equalToMove: true,\n    },\n};\n","import { __assign, __spreadArray } from \"tslib\";\nimport { initialSetup, initialState } from \"../constants/state.constants\";\nexport var createState = function (props) {\n    var _a, _b, _c, _d;\n    return {\n        previousScale: (_a = props.initialScale) !== null && _a !== void 0 ? _a : initialState.scale,\n        scale: (_b = props.initialScale) !== null && _b !== void 0 ? _b : initialState.scale,\n        positionX: (_c = props.initialPositionX) !== null && _c !== void 0 ? _c : initialState.positionX,\n        positionY: (_d = props.initialPositionY) !== null && _d !== void 0 ? _d : initialState.positionY,\n    };\n};\nexport var createSetup = function (props) {\n    var newSetup = __assign({}, initialSetup);\n    Object.keys(props).forEach(function (key) {\n        var validValue = typeof props[key] !== \"undefined\";\n        var validParameter = typeof initialSetup[key] !== \"undefined\";\n        if (validParameter && validValue) {\n            var dataType = Object.prototype.toString.call(initialSetup[key]);\n            var isObject = dataType === \"[object Object]\";\n            var isArray = dataType === \"[object Array]\";\n            if (isObject) {\n                newSetup[key] = __assign(__assign({}, initialSetup[key]), props[key]);\n            }\n            else if (isArray) {\n                newSetup[key] = __spreadArray(__spreadArray([], initialSetup[key], true), props[key], true);\n            }\n            else {\n                newSetup[key] = props[key];\n            }\n        }\n    });\n    return newSetup;\n};\n","import { handleZoomToPoint } from \"../zoom/zoom.logic\";\nimport { animate } from \"../animations/animations.utils\";\nimport { createState } from \"../../utils/state.utils\";\nimport { checkZoomBounds } from \"../zoom/zoom.utils\";\nimport { roundNumber } from \"../../utils\";\nimport { calculateBounds, getMouseBoundedPosition, } from \"../bounds/bounds.utils\";\nexport var handleCalculateButtonZoom = function (contextInstance, delta, step) {\n    var scale = contextInstance.transformState.scale;\n    var wrapperComponent = contextInstance.wrapperComponent, setup = contextInstance.setup;\n    var maxScale = setup.maxScale, minScale = setup.minScale, zoomAnimation = setup.zoomAnimation, smooth = setup.smooth;\n    var size = zoomAnimation.size;\n    if (!wrapperComponent) {\n        throw new Error(\"Wrapper is not mounted\");\n    }\n    var targetScale = smooth\n        ? scale * Math.exp(delta * step)\n        : scale + delta * step;\n    var newScale = checkZoomBounds(roundNumber(targetScale, 3), minScale, maxScale, size, false);\n    return newScale;\n};\nexport function handleZoomToViewCenter(contextInstance, delta, step, animationTime, animationType) {\n    var wrapperComponent = contextInstance.wrapperComponent;\n    var _a = contextInstance.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n    if (!wrapperComponent)\n        return console.error(\"No WrapperComponent found\");\n    var wrapperWidth = wrapperComponent.offsetWidth;\n    var wrapperHeight = wrapperComponent.offsetHeight;\n    var mouseX = (wrapperWidth / 2 - positionX) / scale;\n    var mouseY = (wrapperHeight / 2 - positionY) / scale;\n    var newScale = handleCalculateButtonZoom(contextInstance, delta, step);\n    var targetState = handleZoomToPoint(contextInstance, newScale, mouseX, mouseY);\n    if (!targetState) {\n        return console.error(\"Error during zoom event. New transformation state was not calculated.\");\n    }\n    animate(contextInstance, targetState, animationTime, animationType);\n}\nexport function resetTransformations(contextInstance, animationTime, animationType, onResetTransformation) {\n    var setup = contextInstance.setup, wrapperComponent = contextInstance.wrapperComponent;\n    var limitToBounds = setup.limitToBounds;\n    var initialTransformation = createState(contextInstance.props);\n    var _a = contextInstance.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n    if (!wrapperComponent)\n        return;\n    var newBounds = calculateBounds(contextInstance, initialTransformation.scale);\n    var boundedPositions = getMouseBoundedPosition(initialTransformation.positionX, initialTransformation.positionY, newBounds, limitToBounds, 0, 0, wrapperComponent);\n    var newState = {\n        scale: initialTransformation.scale,\n        positionX: boundedPositions.x,\n        positionY: boundedPositions.y,\n    };\n    if (scale === initialTransformation.scale &&\n        positionX === initialTransformation.positionX &&\n        positionY === initialTransformation.positionY) {\n        return;\n    }\n    onResetTransformation === null || onResetTransformation === void 0 ? void 0 : onResetTransformation();\n    animate(contextInstance, newState, animationTime, animationType);\n}\nexport function getOffset(element, wrapper, content, state) {\n    var offset = element.getBoundingClientRect();\n    var wrapperOffset = wrapper.getBoundingClientRect();\n    var contentOffset = content.getBoundingClientRect();\n    var xOff = wrapperOffset.x * state.scale;\n    var yOff = wrapperOffset.y * state.scale;\n    return {\n        x: (offset.x - contentOffset.x + xOff) / state.scale,\n        y: (offset.y - contentOffset.y + yOff) / state.scale,\n    };\n}\nexport function calculateZoomToNode(contextInstance, node, customZoom) {\n    var wrapperComponent = contextInstance.wrapperComponent, contentComponent = contextInstance.contentComponent, transformState = contextInstance.transformState;\n    var _a = contextInstance.setup, limitToBounds = _a.limitToBounds, minScale = _a.minScale, maxScale = _a.maxScale;\n    if (!wrapperComponent || !contentComponent)\n        return transformState;\n    var wrapperRect = wrapperComponent.getBoundingClientRect();\n    var nodeRect = node.getBoundingClientRect();\n    var nodeOffset = getOffset(node, wrapperComponent, contentComponent, transformState);\n    var nodeLeft = nodeOffset.x;\n    var nodeTop = nodeOffset.y;\n    var nodeWidth = nodeRect.width / transformState.scale;\n    var nodeHeight = nodeRect.height / transformState.scale;\n    var scaleX = wrapperComponent.offsetWidth / nodeWidth;\n    var scaleY = wrapperComponent.offsetHeight / nodeHeight;\n    var newScale = checkZoomBounds(customZoom || Math.min(scaleX, scaleY), minScale, maxScale, 0, false);\n    var offsetX = (wrapperRect.width - nodeWidth * newScale) / 2;\n    var offsetY = (wrapperRect.height - nodeHeight * newScale) / 2;\n    var newPositionX = (wrapperRect.left - nodeLeft) * newScale + offsetX;\n    var newPositionY = (wrapperRect.top - nodeTop) * newScale + offsetY;\n    var bounds = calculateBounds(contextInstance, newScale);\n    var _b = getMouseBoundedPosition(newPositionX, newPositionY, bounds, limitToBounds, 0, 0, wrapperComponent), x = _b.x, y = _b.y;\n    return { positionX: x, positionY: y, scale: newScale };\n}\n","import { calculateZoomToNode, handleZoomToViewCenter, resetTransformations, } from \"./handlers.utils\";\nimport { animate, handleCancelAnimation } from \"../animations/animations.utils\";\nimport { getCenterPosition } from \"../../utils\";\nexport var zoomIn = function (contextInstance) {\n    return function (step, animationTime, animationType) {\n        if (step === void 0) { step = 0.5; }\n        if (animationTime === void 0) { animationTime = 300; }\n        if (animationType === void 0) { animationType = \"easeOut\"; }\n        handleZoomToViewCenter(contextInstance, 1, step, animationTime, animationType);\n    };\n};\nexport var zoomOut = function (contextInstance) {\n    return function (step, animationTime, animationType) {\n        if (step === void 0) { step = 0.5; }\n        if (animationTime === void 0) { animationTime = 300; }\n        if (animationType === void 0) { animationType = \"easeOut\"; }\n        handleZoomToViewCenter(contextInstance, -1, step, animationTime, animationType);\n    };\n};\nexport var setTransform = function (contextInstance) {\n    return function (newPositionX, newPositionY, newScale, animationTime, animationType) {\n        if (animationTime === void 0) { animationTime = 300; }\n        if (animationType === void 0) { animationType = \"easeOut\"; }\n        var _a = contextInstance.transformState, positionX = _a.positionX, positionY = _a.positionY, scale = _a.scale;\n        var wrapperComponent = contextInstance.wrapperComponent, contentComponent = contextInstance.contentComponent;\n        var disabled = contextInstance.setup.disabled;\n        if (disabled || !wrapperComponent || !contentComponent)\n            return;\n        var targetState = {\n            positionX: Number.isNaN(newPositionX) ? positionX : newPositionX,\n            positionY: Number.isNaN(newPositionY) ? positionY : newPositionY,\n            scale: Number.isNaN(newScale) ? scale : newScale,\n        };\n        animate(contextInstance, targetState, animationTime, animationType);\n    };\n};\nexport var resetTransform = function (contextInstance) {\n    return function (animationTime, animationType) {\n        if (animationTime === void 0) { animationTime = 200; }\n        if (animationType === void 0) { animationType = \"easeOut\"; }\n        resetTransformations(contextInstance, animationTime, animationType);\n    };\n};\nexport var centerView = function (contextInstance) {\n    return function (scale, animationTime, animationType) {\n        if (animationTime === void 0) { animationTime = 200; }\n        if (animationType === void 0) { animationType = \"easeOut\"; }\n        var transformState = contextInstance.transformState, wrapperComponent = contextInstance.wrapperComponent, contentComponent = contextInstance.contentComponent;\n        if (wrapperComponent && contentComponent) {\n            var targetState = getCenterPosition(scale || transformState.scale, wrapperComponent, contentComponent);\n            animate(contextInstance, targetState, animationTime, animationType);\n        }\n    };\n};\nexport var zoomToElement = function (contextInstance) {\n    return function (node, scale, animationTime, animationType) {\n        if (animationTime === void 0) { animationTime = 600; }\n        if (animationType === void 0) { animationType = \"easeOut\"; }\n        handleCancelAnimation(contextInstance);\n        var wrapperComponent = contextInstance.wrapperComponent;\n        var target = typeof node === \"string\" ? document.getElementById(node) : node;\n        if (wrapperComponent && target && wrapperComponent.contains(target)) {\n            var targetState = calculateZoomToNode(contextInstance, target, scale);\n            animate(contextInstance, targetState, animationTime, animationType);\n        }\n    };\n};\n","import { zoomIn, zoomOut, setTransform, resetTransform, zoomToElement, centerView, } from \"../core/handlers/handlers.logic\";\nexport var getControls = function (contextInstance) {\n    return {\n        instance: contextInstance,\n        zoomIn: zoomIn(contextInstance),\n        zoomOut: zoomOut(contextInstance),\n        setTransform: setTransform(contextInstance),\n        resetTransform: resetTransform(contextInstance),\n        centerView: centerView(contextInstance),\n        zoomToElement: zoomToElement(contextInstance),\n    };\n};\nexport var getState = function (contextInstance) {\n    return {\n        instance: contextInstance,\n        state: contextInstance.transformState,\n    };\n};\nexport var getContext = function (contextInstance) {\n    var ref = {};\n    Object.assign(ref, getState(contextInstance));\n    Object.assign(ref, getControls(contextInstance));\n    return ref;\n};\n","// We want to make event listeners non-passive, and to do so have to check\n// that browsers support EventListenerOptions in the first place.\n// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\nvar passiveSupported = false;\nexport function makePassiveEventOption() {\n    try {\n        var options = {\n            get passive() {\n                // This function will be called when the browser\n                //   attempts to access the passive property.\n                passiveSupported = true;\n                return false;\n            },\n        };\n        return options;\n    }\n    catch (err) {\n        passiveSupported = false;\n        return passiveSupported;\n    }\n}\n","export var isExcludedNode = function (node, excluded) {\n    var targetTagName = node.tagName.toUpperCase();\n    var isExcludedTag = excluded.find(function (tag) { return tag.toUpperCase() === targetTagName; });\n    if (isExcludedTag)\n        return true;\n    var isExcludedClassName = excluded.find(function (className) {\n        return node.classList.contains(className);\n    });\n    if (isExcludedClassName)\n        return true;\n    return false;\n};\nexport var cancelTimeout = function (timeout) {\n    if (timeout) {\n        clearTimeout(timeout);\n    }\n};\n","export var getTransformStyles = function (x, y, scale) {\n    // Standard translate prevents blurry svg on the safari\n    return \"translate(\".concat(x, \"px, \").concat(y, \"px) scale(\").concat(scale, \")\");\n};\nexport var getMatrixTransformStyles = function (x, y, scale) {\n    // The shorthand for matrix does not work for Safari hence the need to explicitly use matrix3d\n    // Refer to https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix\n    var a = scale;\n    var b = 0;\n    var c = 0;\n    var d = scale;\n    var tx = x;\n    var ty = y;\n    return \"matrix3d(\".concat(a, \", \").concat(b, \", 0, 0, \").concat(c, \", \").concat(d, \", 0, 0, 0, 0, 1, 0, \").concat(tx, \", \").concat(ty, \", 0, 1)\");\n};\nexport var getCenterPosition = function (scale, wrapperComponent, contentComponent) {\n    var contentWidth = contentComponent.offsetWidth * scale;\n    var contentHeight = contentComponent.offsetHeight * scale;\n    var centerPositionX = (wrapperComponent.offsetWidth - contentWidth) / 2;\n    var centerPositionY = (wrapperComponent.offsetHeight - contentHeight) / 2;\n    return {\n        scale: scale,\n        positionX: centerPositionX,\n        positionY: centerPositionY,\n    };\n};\n","import { checkIsNumber, isExcludedNode, roundNumber } from \"../../utils\";\nimport { checkZoomBounds } from \"../zoom/zoom.utils\";\nexport var isWheelAllowed = function (contextInstance, event) {\n    var _a = contextInstance.setup.wheel, disabled = _a.disabled, wheelDisabled = _a.wheelDisabled, touchPadDisabled = _a.touchPadDisabled, excluded = _a.excluded;\n    var isInitialized = contextInstance.isInitialized, isPanning = contextInstance.isPanning;\n    var target = event.target;\n    var isAllowed = isInitialized && !isPanning && !disabled && target;\n    if (!isAllowed)\n        return false;\n    // Event ctrlKey detects if touchpad action is executing wheel or pinch gesture\n    if (wheelDisabled && !event.ctrlKey)\n        return false;\n    if (touchPadDisabled && event.ctrlKey)\n        return false;\n    var isExcluded = isExcludedNode(target, excluded);\n    if (isExcluded)\n        return false;\n    return true;\n};\nexport var getDeltaY = function (event) {\n    if (event) {\n        return event.deltaY < 0 ? 1 : -1;\n    }\n    return 0;\n};\nexport function getDelta(event, customDelta) {\n    var deltaY = getDeltaY(event);\n    var delta = checkIsNumber(customDelta, deltaY);\n    return delta;\n}\nexport function getMousePosition(event, contentComponent, scale) {\n    var contentRect = contentComponent.getBoundingClientRect();\n    var mouseX = 0;\n    var mouseY = 0;\n    if (\"clientX\" in event) {\n        // mouse position x, y over wrapper component\n        mouseX = (event.clientX - contentRect.left) / scale;\n        mouseY = (event.clientY - contentRect.top) / scale;\n    }\n    else {\n        var touch = event.touches[0];\n        mouseX = (touch.clientX - contentRect.left) / scale;\n        mouseY = (touch.clientY - contentRect.top) / scale;\n    }\n    if (Number.isNaN(mouseX) || Number.isNaN(mouseY))\n        console.error(\"No mouse or touch offset found\");\n    return {\n        x: mouseX,\n        y: mouseY,\n    };\n}\nexport var handleCalculateWheelZoom = function (contextInstance, delta, step, disable, getTarget) {\n    var scale = contextInstance.transformState.scale;\n    var wrapperComponent = contextInstance.wrapperComponent, setup = contextInstance.setup;\n    var maxScale = setup.maxScale, minScale = setup.minScale, zoomAnimation = setup.zoomAnimation, disablePadding = setup.disablePadding;\n    var size = zoomAnimation.size, disabled = zoomAnimation.disabled;\n    if (!wrapperComponent) {\n        throw new Error(\"Wrapper is not mounted\");\n    }\n    var targetScale = scale + delta * step;\n    if (getTarget)\n        return targetScale;\n    var paddingEnabled = disable ? false : !disabled;\n    var newScale = checkZoomBounds(roundNumber(targetScale, 3), minScale, maxScale, size, paddingEnabled && !disablePadding);\n    return newScale;\n};\nexport var handleWheelZoomStop = function (contextInstance, event) {\n    var previousWheelEvent = contextInstance.previousWheelEvent;\n    var scale = contextInstance.transformState.scale;\n    var _a = contextInstance.setup, maxScale = _a.maxScale, minScale = _a.minScale;\n    if (!previousWheelEvent)\n        return false;\n    if (scale < maxScale || scale > minScale)\n        return true;\n    if (Math.sign(previousWheelEvent.deltaY) !== Math.sign(event.deltaY))\n        return true;\n    if (previousWheelEvent.deltaY > 0 && previousWheelEvent.deltaY < event.deltaY)\n        return true;\n    if (previousWheelEvent.deltaY < 0 && previousWheelEvent.deltaY > event.deltaY)\n        return true;\n    if (Math.sign(previousWheelEvent.deltaY) !== Math.sign(event.deltaY))\n        return true;\n    return false;\n};\n","import { isExcludedNode, roundNumber } from \"../../utils\";\nimport { checkZoomBounds } from \"../zoom/zoom.utils\";\nexport var isPinchStartAllowed = function (contextInstance, event) {\n    var _a = contextInstance.setup.pinch, disabled = _a.disabled, excluded = _a.excluded;\n    var isInitialized = contextInstance.isInitialized;\n    var target = event.target;\n    var isAllowed = isInitialized && !disabled && target;\n    if (!isAllowed)\n        return false;\n    var isExcluded = isExcludedNode(target, excluded);\n    if (isExcluded)\n        return false;\n    return true;\n};\nexport var isPinchAllowed = function (contextInstance) {\n    var disabled = contextInstance.setup.pinch.disabled;\n    var isInitialized = contextInstance.isInitialized, pinchStartDistance = contextInstance.pinchStartDistance;\n    var isAllowed = isInitialized && !disabled && pinchStartDistance;\n    if (!isAllowed)\n        return false;\n    return true;\n};\nexport var calculateTouchMidPoint = function (event, scale, contentComponent) {\n    var contentRect = contentComponent.getBoundingClientRect();\n    var touches = event.touches;\n    var firstPointX = roundNumber(touches[0].clientX - contentRect.left, 5);\n    var firstPointY = roundNumber(touches[0].clientY - contentRect.top, 5);\n    var secondPointX = roundNumber(touches[1].clientX - contentRect.left, 5);\n    var secondPointY = roundNumber(touches[1].clientY - contentRect.top, 5);\n    return {\n        x: (firstPointX + secondPointX) / 2 / scale,\n        y: (firstPointY + secondPointY) / 2 / scale,\n    };\n};\nexport var getTouchDistance = function (event) {\n    return Math.sqrt(Math.pow((event.touches[0].pageX - event.touches[1].pageX), 2) +\n        Math.pow((event.touches[0].pageY - event.touches[1].pageY), 2));\n};\nexport var calculatePinchZoom = function (contextInstance, currentDistance) {\n    var pinchStartScale = contextInstance.pinchStartScale, pinchStartDistance = contextInstance.pinchStartDistance, setup = contextInstance.setup;\n    var maxScale = setup.maxScale, minScale = setup.minScale, zoomAnimation = setup.zoomAnimation, disablePadding = setup.disablePadding;\n    var size = zoomAnimation.size, disabled = zoomAnimation.disabled;\n    if (!pinchStartScale || pinchStartDistance === null || !currentDistance) {\n        throw new Error(\"Pinch touches distance was not provided\");\n    }\n    if (currentDistance < 0) {\n        return contextInstance.transformState.scale;\n    }\n    var touchProportion = currentDistance / pinchStartDistance;\n    var scaleDifference = touchProportion * pinchStartScale;\n    return checkZoomBounds(roundNumber(scaleDifference, 2), minScale, maxScale, size, !disabled && !disablePadding);\n};\n","import { handleCallback } from \"../../utils/callback.utils\";\nimport { getContext } from \"../../utils/context.utils\";\nimport { cancelTimeout } from \"../../utils/helpers.utils\";\nimport { handleCancelAnimation } from \"../animations/animations.utils\";\nimport { handleCalculateBounds } from \"../bounds/bounds.utils\";\nimport { getDelta, handleCalculateWheelZoom, handleWheelZoomStop, getMousePosition, } from \"./wheel.utils\";\nimport { handleAlignToScaleBounds } from \"../zoom/zoom.logic\";\nimport { handleCalculateZoomPositions } from \"../zoom/zoom.utils\";\nvar wheelStopEventTime = 160;\nvar wheelAnimationTime = 100;\nexport var handleWheelStart = function (contextInstance, event) {\n    var _a = contextInstance.props, onWheelStart = _a.onWheelStart, onZoomStart = _a.onZoomStart;\n    if (!contextInstance.wheelStopEventTimer) {\n        handleCancelAnimation(contextInstance);\n        handleCallback(getContext(contextInstance), event, onWheelStart);\n        handleCallback(getContext(contextInstance), event, onZoomStart);\n    }\n};\nexport var handleWheelZoom = function (contextInstance, event) {\n    var _a = contextInstance.props, onWheel = _a.onWheel, onZoom = _a.onZoom;\n    var contentComponent = contextInstance.contentComponent, setup = contextInstance.setup, transformState = contextInstance.transformState;\n    var scale = transformState.scale;\n    var limitToBounds = setup.limitToBounds, centerZoomedOut = setup.centerZoomedOut, zoomAnimation = setup.zoomAnimation, wheel = setup.wheel, disablePadding = setup.disablePadding, smooth = setup.smooth;\n    var size = zoomAnimation.size, disabled = zoomAnimation.disabled;\n    var step = wheel.step, smoothStep = wheel.smoothStep;\n    if (!contentComponent) {\n        throw new Error(\"Component not mounted\");\n    }\n    event.preventDefault();\n    event.stopPropagation();\n    var delta = getDelta(event, null);\n    var zoomStep = smooth ? smoothStep * Math.abs(event.deltaY) : step;\n    var newScale = handleCalculateWheelZoom(contextInstance, delta, zoomStep, !event.ctrlKey);\n    // if scale not change\n    if (scale === newScale)\n        return;\n    var bounds = handleCalculateBounds(contextInstance, newScale);\n    var mousePosition = getMousePosition(event, contentComponent, scale);\n    var isPaddingDisabled = disabled || size === 0 || centerZoomedOut || disablePadding;\n    var isLimitedToBounds = limitToBounds && isPaddingDisabled;\n    var _b = handleCalculateZoomPositions(contextInstance, mousePosition.x, mousePosition.y, newScale, bounds, isLimitedToBounds), x = _b.x, y = _b.y;\n    contextInstance.previousWheelEvent = event;\n    contextInstance.setTransformState(newScale, x, y);\n    handleCallback(getContext(contextInstance), event, onWheel);\n    handleCallback(getContext(contextInstance), event, onZoom);\n};\nexport var handleWheelStop = function (contextInstance, event) {\n    var _a = contextInstance.props, onWheelStop = _a.onWheelStop, onZoomStop = _a.onZoomStop;\n    // fire animation\n    cancelTimeout(contextInstance.wheelAnimationTimer);\n    contextInstance.wheelAnimationTimer = setTimeout(function () {\n        if (!contextInstance.mounted)\n            return;\n        handleAlignToScaleBounds(contextInstance, event.x, event.y);\n        contextInstance.wheelAnimationTimer = null;\n    }, wheelAnimationTime);\n    // Wheel stop event\n    var hasStoppedZooming = handleWheelZoomStop(contextInstance, event);\n    if (hasStoppedZooming) {\n        cancelTimeout(contextInstance.wheelStopEventTimer);\n        contextInstance.wheelStopEventTimer = setTimeout(function () {\n            if (!contextInstance.mounted)\n                return;\n            contextInstance.wheelStopEventTimer = null;\n            handleCallback(getContext(contextInstance), event, onWheelStop);\n            handleCallback(getContext(contextInstance), event, onZoomStop);\n        }, wheelStopEventTime);\n    }\n};\n","import { handleCancelAnimation } from \"../animations/animations.utils\";\nimport { handleAlignToScaleBounds } from \"../zoom/zoom.logic\";\nimport { calculatePinchZoom, calculateTouchMidPoint, getTouchDistance, } from \"./pinch.utils\";\nimport { handleCalculateBounds } from \"../bounds/bounds.utils\";\nimport { handleCalculateZoomPositions } from \"../zoom/zoom.utils\";\nexport var handlePinchStart = function (contextInstance, event) {\n    var distance = getTouchDistance(event);\n    contextInstance.pinchStartDistance = distance;\n    contextInstance.lastDistance = distance;\n    contextInstance.pinchStartScale = contextInstance.transformState.scale;\n    contextInstance.isPanning = false;\n    handleCancelAnimation(contextInstance);\n};\nexport var handlePinchZoom = function (contextInstance, event) {\n    var contentComponent = contextInstance.contentComponent, pinchStartDistance = contextInstance.pinchStartDistance;\n    var scale = contextInstance.transformState.scale;\n    var _a = contextInstance.setup, limitToBounds = _a.limitToBounds, centerZoomedOut = _a.centerZoomedOut, zoomAnimation = _a.zoomAnimation;\n    var disabled = zoomAnimation.disabled, size = zoomAnimation.size;\n    // if one finger starts from outside of wrapper\n    if (pinchStartDistance === null || !contentComponent)\n        return;\n    var midPoint = calculateTouchMidPoint(event, scale, contentComponent);\n    // if touches goes off of the wrapper element\n    if (!Number.isFinite(midPoint.x) || !Number.isFinite(midPoint.y))\n        return;\n    var currentDistance = getTouchDistance(event);\n    var newScale = calculatePinchZoom(contextInstance, currentDistance);\n    if (newScale === scale)\n        return;\n    var bounds = handleCalculateBounds(contextInstance, newScale);\n    var isPaddingDisabled = disabled || size === 0 || centerZoomedOut;\n    var isLimitedToBounds = limitToBounds && isPaddingDisabled;\n    var _b = handleCalculateZoomPositions(contextInstance, midPoint.x, midPoint.y, newScale, bounds, isLimitedToBounds), x = _b.x, y = _b.y;\n    contextInstance.pinchMidpoint = midPoint;\n    contextInstance.lastDistance = currentDistance;\n    contextInstance.setTransformState(newScale, x, y);\n};\nexport var handlePinchStop = function (contextInstance) {\n    var pinchMidpoint = contextInstance.pinchMidpoint;\n    contextInstance.velocity = null;\n    contextInstance.lastDistance = null;\n    contextInstance.pinchMidpoint = null;\n    contextInstance.pinchStartScale = null;\n    contextInstance.pinchStartDistance = null;\n    handleAlignToScaleBounds(contextInstance, pinchMidpoint === null || pinchMidpoint === void 0 ? void 0 : pinchMidpoint.x, pinchMidpoint === null || pinchMidpoint === void 0 ? void 0 : pinchMidpoint.y);\n};\n","import { animate } from \"../animations/animations.utils\";\nimport { getMousePosition } from \"../wheel/wheel.utils\";\nimport { handleZoomToPoint } from \"../zoom/zoom.logic\";\nimport { cancelTimeout, getContext, handleCallback, isExcludedNode, } from \"../../utils\";\nimport { handleCalculateButtonZoom, resetTransformations, } from \"../handlers/handlers.utils\";\nexport var handleDoubleClickStop = function (contextInstance, event) {\n    var onZoomStop = contextInstance.props.onZoomStop;\n    var animationTime = contextInstance.setup.doubleClick.animationTime;\n    cancelTimeout(contextInstance.doubleClickStopEventTimer);\n    contextInstance.doubleClickStopEventTimer = setTimeout(function () {\n        contextInstance.doubleClickStopEventTimer = null;\n        handleCallback(getContext(contextInstance), event, onZoomStop);\n    }, animationTime);\n};\nexport var handleDoubleClickResetMode = function (contextInstance, event) {\n    var _a = contextInstance.props, onZoomStart = _a.onZoomStart, onZoom = _a.onZoom;\n    var _b = contextInstance.setup.doubleClick, animationTime = _b.animationTime, animationType = _b.animationType;\n    handleCallback(getContext(contextInstance), event, onZoomStart);\n    resetTransformations(contextInstance, animationTime, animationType, function () {\n        return handleCallback(getContext(contextInstance), event, onZoom);\n    });\n    handleDoubleClickStop(contextInstance, event);\n};\nexport function handleDoubleClick(contextInstance, event) {\n    var setup = contextInstance.setup, doubleClickStopEventTimer = contextInstance.doubleClickStopEventTimer, transformState = contextInstance.transformState, contentComponent = contextInstance.contentComponent;\n    var scale = transformState.scale;\n    var _a = contextInstance.props, onZoomStart = _a.onZoomStart, onZoom = _a.onZoom;\n    var _b = setup.doubleClick, disabled = _b.disabled, mode = _b.mode, step = _b.step, animationTime = _b.animationTime, animationType = _b.animationType;\n    if (disabled)\n        return;\n    if (doubleClickStopEventTimer)\n        return;\n    if (mode === \"reset\") {\n        return handleDoubleClickResetMode(contextInstance, event);\n    }\n    if (!contentComponent)\n        return console.error(\"No ContentComponent found\");\n    var delta = mode === \"zoomOut\" ? -1 : 1;\n    var newScale = handleCalculateButtonZoom(contextInstance, delta, step);\n    // stop execution when scale didn't change\n    if (scale === newScale)\n        return;\n    handleCallback(getContext(contextInstance), event, onZoomStart);\n    var mousePosition = getMousePosition(event, contentComponent, scale);\n    var targetState = handleZoomToPoint(contextInstance, newScale, mousePosition.x, mousePosition.y);\n    if (!targetState) {\n        return console.error(\"Error during zoom event. New transformation state was not calculated.\");\n    }\n    handleCallback(getContext(contextInstance), event, onZoom);\n    animate(contextInstance, targetState, animationTime, animationType);\n    handleDoubleClickStop(contextInstance, event);\n}\nexport var isDoubleClickAllowed = function (contextInstance, event) {\n    var isInitialized = contextInstance.isInitialized, setup = contextInstance.setup, wrapperComponent = contextInstance.wrapperComponent;\n    var _a = setup.doubleClick, disabled = _a.disabled, excluded = _a.excluded;\n    var target = event.target;\n    var isWrapperChild = wrapperComponent === null || wrapperComponent === void 0 ? void 0 : wrapperComponent.contains(target);\n    var isAllowed = isInitialized && target && isWrapperChild && !disabled;\n    if (!isAllowed)\n        return false;\n    var isExcluded = isExcludedNode(target, excluded);\n    if (isExcluded)\n        return false;\n    return true;\n};\n","import { getContext, createSetup, createState, handleCallback, getTransformStyles, makePassiveEventOption, getCenterPosition, } from \"../utils\";\nimport { handleCancelAnimation } from \"./animations/animations.utils\";\nimport { isWheelAllowed } from \"./wheel/wheel.utils\";\nimport { isPinchAllowed, isPinchStartAllowed } from \"./pinch/pinch.utils\";\nimport { handleCalculateBounds } from \"./bounds/bounds.utils\";\nimport { handleWheelStart, handleWheelZoom, handleWheelStop, } from \"./wheel/wheel.logic\";\nimport { isPanningAllowed, isPanningStartAllowed } from \"./pan/panning.utils\";\nimport { handlePanning, handlePanningEnd, handlePanningStart, } from \"./pan/panning.logic\";\nimport { handlePinchStart, handlePinchStop, handlePinchZoom, } from \"./pinch/pinch.logic\";\nimport { handleDoubleClick, isDoubleClickAllowed, } from \"./double-click/double-click.logic\";\nvar ZoomPanPinch = /** @class */ (function () {\n    function ZoomPanPinch(props) {\n        var _this = this;\n        this.mounted = true;\n        this.onChangeCallbacks = new Set();\n        this.onInitCallbacks = new Set();\n        // Components\n        this.wrapperComponent = null;\n        this.contentComponent = null;\n        // Initialization\n        this.isInitialized = false;\n        this.bounds = null;\n        // wheel helpers\n        this.previousWheelEvent = null;\n        this.wheelStopEventTimer = null;\n        this.wheelAnimationTimer = null;\n        // panning helpers\n        this.isPanning = false;\n        this.startCoords = null;\n        this.lastTouch = null;\n        // pinch helpers\n        this.distance = null;\n        this.lastDistance = null;\n        this.pinchStartDistance = null;\n        this.pinchStartScale = null;\n        this.pinchMidpoint = null;\n        // double click helpers\n        this.doubleClickStopEventTimer = null;\n        // velocity helpers\n        this.velocity = null;\n        this.velocityTime = null;\n        this.lastMousePosition = null;\n        // animations helpers\n        this.animate = false;\n        this.animation = null;\n        this.maxBounds = null;\n        // key press\n        this.pressedKeys = {};\n        this.mount = function () {\n            _this.initializeWindowEvents();\n        };\n        this.unmount = function () {\n            _this.cleanupWindowEvents();\n        };\n        this.update = function (newProps) {\n            handleCalculateBounds(_this, _this.transformState.scale);\n            _this.setup = createSetup(newProps);\n        };\n        this.initializeWindowEvents = function () {\n            var _a;\n            var passive = makePassiveEventOption();\n            var currentDocument = (_a = _this.wrapperComponent) === null || _a === void 0 ? void 0 : _a.ownerDocument;\n            var currentWindow = currentDocument === null || currentDocument === void 0 ? void 0 : currentDocument.defaultView;\n            // Panning on window to allow panning when mouse is out of component wrapper\n            currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.addEventListener(\"mousedown\", _this.onPanningStart, passive);\n            currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.addEventListener(\"mousemove\", _this.onPanning, passive);\n            currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.addEventListener(\"mouseup\", _this.onPanningStop, passive);\n            currentDocument === null || currentDocument === void 0 ? void 0 : currentDocument.addEventListener(\"mouseleave\", _this.clearPanning, passive);\n            currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.addEventListener(\"keyup\", _this.setKeyUnPressed, passive);\n            currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.addEventListener(\"keydown\", _this.setKeyPressed, passive);\n        };\n        this.cleanupWindowEvents = function () {\n            var _a, _b;\n            var passive = makePassiveEventOption();\n            var currentDocument = (_a = _this.wrapperComponent) === null || _a === void 0 ? void 0 : _a.ownerDocument;\n            var currentWindow = currentDocument === null || currentDocument === void 0 ? void 0 : currentDocument.defaultView;\n            currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.removeEventListener(\"mousedown\", _this.onPanningStart, passive);\n            currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.removeEventListener(\"mousemove\", _this.onPanning, passive);\n            currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.removeEventListener(\"mouseup\", _this.onPanningStop, passive);\n            currentDocument === null || currentDocument === void 0 ? void 0 : currentDocument.removeEventListener(\"mouseleave\", _this.clearPanning, passive);\n            currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.removeEventListener(\"keyup\", _this.setKeyUnPressed, passive);\n            currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.removeEventListener(\"keydown\", _this.setKeyPressed, passive);\n            document.removeEventListener(\"mouseleave\", _this.clearPanning, passive);\n            handleCancelAnimation(_this);\n            (_b = _this.observer) === null || _b === void 0 ? void 0 : _b.disconnect();\n        };\n        this.handleInitializeWrapperEvents = function (wrapper) {\n            // Zooming events on wrapper\n            var passive = makePassiveEventOption();\n            wrapper.addEventListener(\"wheel\", _this.onWheelZoom, passive);\n            wrapper.addEventListener(\"dblclick\", _this.onDoubleClick, passive);\n            wrapper.addEventListener(\"touchstart\", _this.onTouchPanningStart, passive);\n            wrapper.addEventListener(\"touchmove\", _this.onTouchPanning, passive);\n            wrapper.addEventListener(\"touchend\", _this.onTouchPanningStop, passive);\n        };\n        this.handleInitialize = function (contentComponent) {\n            var centerOnInit = _this.setup.centerOnInit;\n            _this.applyTransformation();\n            _this.onInitCallbacks.forEach(function (callback) { return callback(getContext(_this)); });\n            if (centerOnInit) {\n                _this.setCenter();\n                _this.observer = new ResizeObserver(function () {\n                    var _a;\n                    _this.onInitCallbacks.forEach(function (callback) { return callback(getContext(_this)); });\n                    _this.setCenter();\n                    (_a = _this.observer) === null || _a === void 0 ? void 0 : _a.disconnect();\n                });\n                // Start observing the target node for configured mutations\n                _this.observer.observe(contentComponent);\n            }\n        };\n        /// ///////\n        // Zoom\n        /// ///////\n        this.onWheelZoom = function (event) {\n            var disabled = _this.setup.disabled;\n            if (disabled)\n                return;\n            var isAllowed = isWheelAllowed(_this, event);\n            if (!isAllowed)\n                return;\n            var keysPressed = _this.isPressingKeys(_this.setup.wheel.activationKeys);\n            if (!keysPressed)\n                return;\n            handleWheelStart(_this, event);\n            handleWheelZoom(_this, event);\n            handleWheelStop(_this, event);\n        };\n        /// ///////\n        // Pan\n        /// ///////\n        this.onPanningStart = function (event) {\n            var disabled = _this.setup.disabled;\n            var onPanningStart = _this.props.onPanningStart;\n            if (disabled)\n                return;\n            var isAllowed = isPanningStartAllowed(_this, event);\n            if (!isAllowed)\n                return;\n            var keysPressed = _this.isPressingKeys(_this.setup.panning.activationKeys);\n            if (!keysPressed)\n                return;\n            event.preventDefault();\n            event.stopPropagation();\n            handleCancelAnimation(_this);\n            handlePanningStart(_this, event);\n            handleCallback(getContext(_this), event, onPanningStart);\n        };\n        this.onPanning = function (event) {\n            var disabled = _this.setup.disabled;\n            var onPanning = _this.props.onPanning;\n            if (disabled)\n                return;\n            var isAllowed = isPanningAllowed(_this);\n            if (!isAllowed)\n                return;\n            var keysPressed = _this.isPressingKeys(_this.setup.panning.activationKeys);\n            if (!keysPressed)\n                return;\n            event.preventDefault();\n            event.stopPropagation();\n            handlePanning(_this, event.clientX, event.clientY);\n            handleCallback(getContext(_this), event, onPanning);\n        };\n        this.onPanningStop = function (event) {\n            var onPanningStop = _this.props.onPanningStop;\n            if (_this.isPanning) {\n                handlePanningEnd(_this);\n                handleCallback(getContext(_this), event, onPanningStop);\n            }\n        };\n        /// ///////\n        // Pinch\n        /// ///////\n        this.onPinchStart = function (event) {\n            var disabled = _this.setup.disabled;\n            var _a = _this.props, onPinchingStart = _a.onPinchingStart, onZoomStart = _a.onZoomStart;\n            if (disabled)\n                return;\n            var isAllowed = isPinchStartAllowed(_this, event);\n            if (!isAllowed)\n                return;\n            handlePinchStart(_this, event);\n            handleCancelAnimation(_this);\n            handleCallback(getContext(_this), event, onPinchingStart);\n            handleCallback(getContext(_this), event, onZoomStart);\n        };\n        this.onPinch = function (event) {\n            var disabled = _this.setup.disabled;\n            var _a = _this.props, onPinching = _a.onPinching, onZoom = _a.onZoom;\n            if (disabled)\n                return;\n            var isAllowed = isPinchAllowed(_this);\n            if (!isAllowed)\n                return;\n            event.preventDefault();\n            event.stopPropagation();\n            handlePinchZoom(_this, event);\n            handleCallback(getContext(_this), event, onPinching);\n            handleCallback(getContext(_this), event, onZoom);\n        };\n        this.onPinchStop = function (event) {\n            var _a = _this.props, onPinchingStop = _a.onPinchingStop, onZoomStop = _a.onZoomStop;\n            if (_this.pinchStartScale) {\n                handlePinchStop(_this);\n                handleCallback(getContext(_this), event, onPinchingStop);\n                handleCallback(getContext(_this), event, onZoomStop);\n            }\n        };\n        /// ///////\n        // Touch\n        /// ///////\n        this.onTouchPanningStart = function (event) {\n            var disabled = _this.setup.disabled;\n            var onPanningStart = _this.props.onPanningStart;\n            if (disabled)\n                return;\n            var isAllowed = isPanningStartAllowed(_this, event);\n            if (!isAllowed)\n                return;\n            var isDoubleTap = _this.lastTouch && +new Date() - _this.lastTouch < 200;\n            if (isDoubleTap && event.touches.length === 1) {\n                _this.onDoubleClick(event);\n            }\n            else {\n                _this.lastTouch = +new Date();\n                handleCancelAnimation(_this);\n                var touches = event.touches;\n                var isPanningAction = touches.length === 1;\n                var isPinchAction = touches.length === 2;\n                if (isPanningAction) {\n                    handleCancelAnimation(_this);\n                    handlePanningStart(_this, event);\n                    handleCallback(getContext(_this), event, onPanningStart);\n                }\n                if (isPinchAction) {\n                    _this.onPinchStart(event);\n                }\n            }\n        };\n        this.onTouchPanning = function (event) {\n            var disabled = _this.setup.disabled;\n            var onPanning = _this.props.onPanning;\n            if (_this.isPanning && event.touches.length === 1) {\n                if (disabled)\n                    return;\n                var isAllowed = isPanningAllowed(_this);\n                if (!isAllowed)\n                    return;\n                event.preventDefault();\n                event.stopPropagation();\n                var touch = event.touches[0];\n                handlePanning(_this, touch.clientX, touch.clientY);\n                handleCallback(getContext(_this), event, onPanning);\n            }\n            else if (event.touches.length > 1) {\n                _this.onPinch(event);\n            }\n        };\n        this.onTouchPanningStop = function (event) {\n            _this.onPanningStop(event);\n            _this.onPinchStop(event);\n        };\n        /// ///////\n        // Double Click\n        /// ///////\n        this.onDoubleClick = function (event) {\n            var disabled = _this.setup.disabled;\n            if (disabled)\n                return;\n            var isAllowed = isDoubleClickAllowed(_this, event);\n            if (!isAllowed)\n                return;\n            handleDoubleClick(_this, event);\n        };\n        /// ///////\n        // Helpers\n        /// ///////\n        this.clearPanning = function (event) {\n            if (_this.isPanning) {\n                _this.onPanningStop(event);\n            }\n        };\n        this.setKeyPressed = function (e) {\n            _this.pressedKeys[e.key] = true;\n        };\n        this.setKeyUnPressed = function (e) {\n            _this.pressedKeys[e.key] = false;\n        };\n        this.isPressingKeys = function (keys) {\n            if (!keys.length) {\n                return true;\n            }\n            return Boolean(keys.find(function (key) { return _this.pressedKeys[key]; }));\n        };\n        this.setTransformState = function (scale, positionX, positionY) {\n            var onTransformed = _this.props.onTransformed;\n            if (!Number.isNaN(scale) &&\n                !Number.isNaN(positionX) &&\n                !Number.isNaN(positionY)) {\n                if (scale !== _this.transformState.scale) {\n                    _this.transformState.previousScale = _this.transformState.scale;\n                    _this.transformState.scale = scale;\n                }\n                _this.transformState.positionX = positionX;\n                _this.transformState.positionY = positionY;\n                _this.applyTransformation();\n                var ctx_1 = getContext(_this);\n                _this.onChangeCallbacks.forEach(function (callback) { return callback(ctx_1); });\n                handleCallback(ctx_1, { scale: scale, positionX: positionX, positionY: positionY }, onTransformed);\n            }\n            else {\n                console.error(\"Detected NaN set state values\");\n            }\n        };\n        this.setCenter = function () {\n            if (_this.wrapperComponent && _this.contentComponent) {\n                var targetState = getCenterPosition(_this.transformState.scale, _this.wrapperComponent, _this.contentComponent);\n                _this.setTransformState(targetState.scale, targetState.positionX, targetState.positionY);\n            }\n        };\n        this.handleTransformStyles = function (x, y, scale) {\n            if (_this.props.customTransform) {\n                return _this.props.customTransform(x, y, scale);\n            }\n            return getTransformStyles(x, y, scale);\n        };\n        this.applyTransformation = function () {\n            if (!_this.mounted || !_this.contentComponent)\n                return;\n            var _a = _this.transformState, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\n            var transform = _this.handleTransformStyles(positionX, positionY, scale);\n            _this.contentComponent.style.transform = transform;\n        };\n        this.getContext = function () {\n            return getContext(_this);\n        };\n        /**\n         * Hooks\n         */\n        this.onChange = function (callback) {\n            if (!_this.onChangeCallbacks.has(callback)) {\n                _this.onChangeCallbacks.add(callback);\n            }\n            return function () {\n                _this.onChangeCallbacks.delete(callback);\n            };\n        };\n        this.onInit = function (callback) {\n            if (!_this.onInitCallbacks.has(callback)) {\n                _this.onInitCallbacks.add(callback);\n            }\n            return function () {\n                _this.onInitCallbacks.delete(callback);\n            };\n        };\n        /**\n         * Initialization\n         */\n        this.init = function (wrapperComponent, contentComponent) {\n            _this.cleanupWindowEvents();\n            _this.wrapperComponent = wrapperComponent;\n            _this.contentComponent = contentComponent;\n            handleCalculateBounds(_this, _this.transformState.scale);\n            _this.handleInitializeWrapperEvents(wrapperComponent);\n            _this.handleInitialize(contentComponent);\n            _this.initializeWindowEvents();\n            _this.isInitialized = true;\n            var ctx = getContext(_this);\n            handleCallback(ctx, undefined, _this.props.onInit);\n        };\n        this.props = props;\n        this.setup = createSetup(this.props);\n        this.transformState = createState(this.props);\n    }\n    return ZoomPanPinch;\n}());\nexport { ZoomPanPinch };\n","import React, { useEffect, useImperativeHandle, useRef } from \"react\";\nimport { ZoomPanPinch } from \"../../core/instance.core\";\nimport { getControls } from \"../../utils\";\nexport var Context = React.createContext(null);\nvar getContent = function (children, ctx) {\n    if (typeof children === \"function\") {\n        return children(ctx);\n    }\n    return children;\n};\nexport var TransformWrapper = React.forwardRef(function (props, ref) {\n    var instance = useRef(new ZoomPanPinch(props)).current;\n    var content = getContent(props.children, getControls(instance));\n    useImperativeHandle(ref, function () { return getControls(instance); }, [instance]);\n    useEffect(function () {\n        instance.update(props);\n    }, [instance, props]);\n    return React.createElement(Context.Provider, { value: instance }, content);\n});\n","import { __assign } from \"tslib\";\nimport React, { useContext, useEffect, useRef } from \"react\";\nimport { mergeRefs } from \"utils/ref.utils\";\nimport { Context } from \"../transform-wrapper/transform-wrapper\";\nexport var KeepScale = React.forwardRef(function (props, ref) {\n    var localRef = useRef(null);\n    var instance = useContext(Context);\n    useEffect(function () {\n        return instance.onChange(function (ctx) {\n            if (localRef.current) {\n                var positionX = 0;\n                var positionY = 0;\n                localRef.current.style.transform = instance.handleTransformStyles(positionX, positionY, 1 / ctx.instance.transformState.scale);\n            }\n        });\n    }, [instance]);\n    return React.createElement(\"div\", __assign({}, props, { ref: mergeRefs([localRef, ref]) }));\n});\n","export function mergeRefs(refs) {\n    return function (value) {\n        refs.forEach(function (ref) {\n            if (typeof ref === \"function\") {\n                ref(value);\n            }\n            else if (ref != null) {\n                ref.current = value;\n            }\n        });\n    };\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import { __assign } from \"tslib\";\n/* eslint-disable react/require-default-props */\nimport React, { useContext, useEffect, useRef } from \"react\";\nimport { Context } from \"../transform-wrapper/transform-wrapper\";\nimport styles from \"./transform-component.module.css\";\nexport var TransformComponent = function (_a) {\n    var children = _a.children, _b = _a.wrapperClass, wrapperClass = _b === void 0 ? \"\" : _b, _c = _a.contentClass, contentClass = _c === void 0 ? \"\" : _c, wrapperStyle = _a.wrapperStyle, contentStyle = _a.contentStyle, _d = _a.wrapperProps, wrapperProps = _d === void 0 ? {} : _d, _e = _a.contentProps, contentProps = _e === void 0 ? {} : _e;\n    var init = useContext(Context).init;\n    var wrapperRef = useRef(null);\n    var contentRef = useRef(null);\n    useEffect(function () {\n        var wrapper = wrapperRef.current;\n        var content = contentRef.current;\n        if (wrapper !== null && content !== null && init) {\n            init(wrapper, content);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return (React.createElement(\"div\", __assign({}, wrapperProps, { ref: wrapperRef, className: \"react-transform-wrapper \".concat(styles.wrapper, \" \").concat(wrapperClass), style: wrapperStyle }),\n        React.createElement(\"div\", __assign({}, contentProps, { ref: contentRef, className: \"react-transform-component \".concat(styles.content, \" \").concat(contentClass), style: contentStyle }), children)));\n};\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// This icon file is generated automatically.\nvar CloseCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }] }, \"name\": \"close-circle\", \"theme\": \"outlined\" };\nexport default CloseCircleOutlined;\n","/**\n * Take input from [0, n] and return it as [0, 1]\n * @hidden\n */\nexport function bound01(n, max) {\n    if (isOnePointZero(n)) {\n        n = '100%';\n    }\n    var isPercent = isPercentage(n);\n    n = max === 360 ? n : Math.min(max, Math.max(0, parseFloat(n)));\n    // Automatically convert percentage into number\n    if (isPercent) {\n        n = parseInt(String(n * max), 10) / 100;\n    }\n    // Handle floating point rounding errors\n    if (Math.abs(n - max) < 0.000001) {\n        return 1;\n    }\n    // Convert into [0, 1] range if it isn't already\n    if (max === 360) {\n        // If n is a hue given in degrees,\n        // wrap around out-of-range values into [0, 360] range\n        // then convert into [0, 1].\n        n = (n < 0 ? (n % max) + max : n % max) / parseFloat(String(max));\n    }\n    else {\n        // If n not a hue given in degrees\n        // Convert into [0, 1] range if it isn't already.\n        n = (n % max) / parseFloat(String(max));\n    }\n    return n;\n}\n/**\n * Force a number between 0 and 1\n * @hidden\n */\nexport function clamp01(val) {\n    return Math.min(1, Math.max(0, val));\n}\n/**\n * Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n * <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\n * @hidden\n */\nexport function isOnePointZero(n) {\n    return typeof n === 'string' && n.indexOf('.') !== -1 && parseFloat(n) === 1;\n}\n/**\n * Check to see if string passed in is a percentage\n * @hidden\n */\nexport function isPercentage(n) {\n    return typeof n === 'string' && n.indexOf('%') !== -1;\n}\n/**\n * Return a valid alpha value [0,1] with all invalid values being set to 1\n * @hidden\n */\nexport function boundAlpha(a) {\n    a = parseFloat(a);\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n    return a;\n}\n/**\n * Replace a decimal with it's percentage value\n * @hidden\n */\nexport function convertToPercentage(n) {\n    if (n <= 1) {\n        return \"\".concat(Number(n) * 100, \"%\");\n    }\n    return n;\n}\n/**\n * Force a hex value to have 2 characters\n * @hidden\n */\nexport function pad2(c) {\n    return c.length === 1 ? '0' + c : String(c);\n}\n","import { bound01, pad2 } from './util';\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n/**\n * Handle bounds / percentage checking to conform to CSS color spec\n * <http://www.w3.org/TR/css3-color/>\n * *Assumes:* r, g, b in [0, 255] or [0, 1]\n * *Returns:* { r, g, b } in [0, 255]\n */\nexport function rgbToRgb(r, g, b) {\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255,\n    };\n}\n/**\n * Converts an RGB color value to HSL.\n * *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n * *Returns:* { h, s, l } in [0,1]\n */\nexport function rgbToHsl(r, g, b) {\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h = 0;\n    var s = 0;\n    var l = (max + min) / 2;\n    if (max === min) {\n        s = 0;\n        h = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n            default:\n                break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, l: l };\n}\nfunction hue2rgb(p, q, t) {\n    if (t < 0) {\n        t += 1;\n    }\n    if (t > 1) {\n        t -= 1;\n    }\n    if (t < 1 / 6) {\n        return p + (q - p) * (6 * t);\n    }\n    if (t < 1 / 2) {\n        return q;\n    }\n    if (t < 2 / 3) {\n        return p + (q - p) * (2 / 3 - t) * 6;\n    }\n    return p;\n}\n/**\n * Converts an HSL color value to RGB.\n *\n * *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n * *Returns:* { r, g, b } in the set [0, 255]\n */\nexport function hslToRgb(h, s, l) {\n    var r;\n    var g;\n    var b;\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n    if (s === 0) {\n        // achromatic\n        g = l;\n        b = l;\n        r = l;\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n    }\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n/**\n * Converts an RGB color value to HSV\n *\n * *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n * *Returns:* { h, s, v } in [0,1]\n */\nexport function rgbToHsv(r, g, b) {\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h = 0;\n    var v = max;\n    var d = max - min;\n    var s = max === 0 ? 0 : d / max;\n    if (max === min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n            default:\n                break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n/**\n * Converts an HSV color value to RGB.\n *\n * *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n * *Returns:* { r, g, b } in the set [0, 255]\n */\nexport function hsvToRgb(h, s, v) {\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n    var i = Math.floor(h);\n    var f = h - i;\n    var p = v * (1 - s);\n    var q = v * (1 - f * s);\n    var t = v * (1 - (1 - f) * s);\n    var mod = i % 6;\n    var r = [v, q, p, p, t, v][mod];\n    var g = [t, v, v, q, p, p][mod];\n    var b = [p, p, t, v, v, q][mod];\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n/**\n * Converts an RGB color to hex\n *\n * Assumes r, g, and b are contained in the set [0, 255]\n * Returns a 3 or 6 character hex\n */\nexport function rgbToHex(r, g, b, allow3Char) {\n    var hex = [\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n    ];\n    // Return a 3 character hex if possible\n    if (allow3Char &&\n        hex[0].startsWith(hex[0].charAt(1)) &&\n        hex[1].startsWith(hex[1].charAt(1)) &&\n        hex[2].startsWith(hex[2].charAt(1))) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n    return hex.join('');\n}\n/**\n * Converts an RGBA color plus alpha transparency to hex\n *\n * Assumes r, g, b are contained in the set [0, 255] and\n * a in [0, 1]. Returns a 4 or 8 character rgba hex\n */\n// eslint-disable-next-line max-params\nexport function rgbaToHex(r, g, b, a, allow4Char) {\n    var hex = [\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n        pad2(convertDecimalToHex(a)),\n    ];\n    // Return a 4 character hex if possible\n    if (allow4Char &&\n        hex[0].startsWith(hex[0].charAt(1)) &&\n        hex[1].startsWith(hex[1].charAt(1)) &&\n        hex[2].startsWith(hex[2].charAt(1)) &&\n        hex[3].startsWith(hex[3].charAt(1))) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n    return hex.join('');\n}\n/**\n * Converts an RGBA color to an ARGB Hex8 string\n * Rarely used, but required for \"toFilter()\"\n */\nexport function rgbaToArgbHex(r, g, b, a) {\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n    ];\n    return hex.join('');\n}\n/** Converts a decimal to a hex value */\nexport function convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n/** Converts a hex value to a decimal */\nexport function convertHexToDecimal(h) {\n    return parseIntFromHex(h) / 255;\n}\n/** Parse a base-16 hex value into a base-10 integer */\nexport function parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\nexport function numberInputToObject(color) {\n    return {\n        r: color >> 16,\n        g: (color & 0xff00) >> 8,\n        b: color & 0xff,\n    };\n}\n","// https://github.com/bahamas10/css-color-names/blob/master/css-color-names.json\n/**\n * @hidden\n */\nexport var names = {\n    aliceblue: '#f0f8ff',\n    antiquewhite: '#faebd7',\n    aqua: '#00ffff',\n    aquamarine: '#7fffd4',\n    azure: '#f0ffff',\n    beige: '#f5f5dc',\n    bisque: '#ffe4c4',\n    black: '#000000',\n    blanchedalmond: '#ffebcd',\n    blue: '#0000ff',\n    blueviolet: '#8a2be2',\n    brown: '#a52a2a',\n    burlywood: '#deb887',\n    cadetblue: '#5f9ea0',\n    chartreuse: '#7fff00',\n    chocolate: '#d2691e',\n    coral: '#ff7f50',\n    cornflowerblue: '#6495ed',\n    cornsilk: '#fff8dc',\n    crimson: '#dc143c',\n    cyan: '#00ffff',\n    darkblue: '#00008b',\n    darkcyan: '#008b8b',\n    darkgoldenrod: '#b8860b',\n    darkgray: '#a9a9a9',\n    darkgreen: '#006400',\n    darkgrey: '#a9a9a9',\n    darkkhaki: '#bdb76b',\n    darkmagenta: '#8b008b',\n    darkolivegreen: '#556b2f',\n    darkorange: '#ff8c00',\n    darkorchid: '#9932cc',\n    darkred: '#8b0000',\n    darksalmon: '#e9967a',\n    darkseagreen: '#8fbc8f',\n    darkslateblue: '#483d8b',\n    darkslategray: '#2f4f4f',\n    darkslategrey: '#2f4f4f',\n    darkturquoise: '#00ced1',\n    darkviolet: '#9400d3',\n    deeppink: '#ff1493',\n    deepskyblue: '#00bfff',\n    dimgray: '#696969',\n    dimgrey: '#696969',\n    dodgerblue: '#1e90ff',\n    firebrick: '#b22222',\n    floralwhite: '#fffaf0',\n    forestgreen: '#228b22',\n    fuchsia: '#ff00ff',\n    gainsboro: '#dcdcdc',\n    ghostwhite: '#f8f8ff',\n    goldenrod: '#daa520',\n    gold: '#ffd700',\n    gray: '#808080',\n    green: '#008000',\n    greenyellow: '#adff2f',\n    grey: '#808080',\n    honeydew: '#f0fff0',\n    hotpink: '#ff69b4',\n    indianred: '#cd5c5c',\n    indigo: '#4b0082',\n    ivory: '#fffff0',\n    khaki: '#f0e68c',\n    lavenderblush: '#fff0f5',\n    lavender: '#e6e6fa',\n    lawngreen: '#7cfc00',\n    lemonchiffon: '#fffacd',\n    lightblue: '#add8e6',\n    lightcoral: '#f08080',\n    lightcyan: '#e0ffff',\n    lightgoldenrodyellow: '#fafad2',\n    lightgray: '#d3d3d3',\n    lightgreen: '#90ee90',\n    lightgrey: '#d3d3d3',\n    lightpink: '#ffb6c1',\n    lightsalmon: '#ffa07a',\n    lightseagreen: '#20b2aa',\n    lightskyblue: '#87cefa',\n    lightslategray: '#778899',\n    lightslategrey: '#778899',\n    lightsteelblue: '#b0c4de',\n    lightyellow: '#ffffe0',\n    lime: '#00ff00',\n    limegreen: '#32cd32',\n    linen: '#faf0e6',\n    magenta: '#ff00ff',\n    maroon: '#800000',\n    mediumaquamarine: '#66cdaa',\n    mediumblue: '#0000cd',\n    mediumorchid: '#ba55d3',\n    mediumpurple: '#9370db',\n    mediumseagreen: '#3cb371',\n    mediumslateblue: '#7b68ee',\n    mediumspringgreen: '#00fa9a',\n    mediumturquoise: '#48d1cc',\n    mediumvioletred: '#c71585',\n    midnightblue: '#191970',\n    mintcream: '#f5fffa',\n    mistyrose: '#ffe4e1',\n    moccasin: '#ffe4b5',\n    navajowhite: '#ffdead',\n    navy: '#000080',\n    oldlace: '#fdf5e6',\n    olive: '#808000',\n    olivedrab: '#6b8e23',\n    orange: '#ffa500',\n    orangered: '#ff4500',\n    orchid: '#da70d6',\n    palegoldenrod: '#eee8aa',\n    palegreen: '#98fb98',\n    paleturquoise: '#afeeee',\n    palevioletred: '#db7093',\n    papayawhip: '#ffefd5',\n    peachpuff: '#ffdab9',\n    peru: '#cd853f',\n    pink: '#ffc0cb',\n    plum: '#dda0dd',\n    powderblue: '#b0e0e6',\n    purple: '#800080',\n    rebeccapurple: '#663399',\n    red: '#ff0000',\n    rosybrown: '#bc8f8f',\n    royalblue: '#4169e1',\n    saddlebrown: '#8b4513',\n    salmon: '#fa8072',\n    sandybrown: '#f4a460',\n    seagreen: '#2e8b57',\n    seashell: '#fff5ee',\n    sienna: '#a0522d',\n    silver: '#c0c0c0',\n    skyblue: '#87ceeb',\n    slateblue: '#6a5acd',\n    slategray: '#708090',\n    slategrey: '#708090',\n    snow: '#fffafa',\n    springgreen: '#00ff7f',\n    steelblue: '#4682b4',\n    tan: '#d2b48c',\n    teal: '#008080',\n    thistle: '#d8bfd8',\n    tomato: '#ff6347',\n    turquoise: '#40e0d0',\n    violet: '#ee82ee',\n    wheat: '#f5deb3',\n    white: '#ffffff',\n    whitesmoke: '#f5f5f5',\n    yellow: '#ffff00',\n    yellowgreen: '#9acd32',\n};\n","/* eslint-disable @typescript-eslint/no-redundant-type-constituents */\nimport { convertHexToDecimal, hslToRgb, hsvToRgb, parseIntFromHex, rgbToRgb } from './conversion';\nimport { names } from './css-color-names';\nimport { boundAlpha, convertToPercentage } from './util';\n/**\n * Given a string or object, convert that input to RGB\n *\n * Possible string inputs:\n * ```\n * \"red\"\n * \"#f00\" or \"f00\"\n * \"#ff0000\" or \"ff0000\"\n * \"#ff000000\" or \"ff000000\"\n * \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n * \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n * \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n * \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n * \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n * \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n * \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n * ```\n */\nexport function inputToRGB(color) {\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n    if (typeof color === 'string') {\n        color = stringInputToObject(color);\n    }\n    if (typeof color === 'object') {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === '%' ? 'prgb' : 'rgb';\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = 'hsv';\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = 'hsl';\n        }\n        if (Object.prototype.hasOwnProperty.call(color, 'a')) {\n            a = color.a;\n        }\n    }\n    a = boundAlpha(a);\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: Math.min(255, Math.max(rgb.r, 0)),\n        g: Math.min(255, Math.max(rgb.g, 0)),\n        b: Math.min(255, Math.max(rgb.b, 0)),\n        a: a,\n    };\n}\n// <http://www.w3.org/TR/css3-values/#integers>\nvar CSS_INTEGER = '[-\\\\+]?\\\\d+%?';\n// <http://www.w3.org/TR/css3-values/#number-value>\nvar CSS_NUMBER = '[-\\\\+]?\\\\d*\\\\.\\\\d+%?';\n// Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\nvar CSS_UNIT = \"(?:\".concat(CSS_NUMBER, \")|(?:\").concat(CSS_INTEGER, \")\");\n// Actual matching.\n// Parentheses and commas are optional, but not required.\n// Whitespace can take the place of commas or opening paren\nvar PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\".concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")\\\\s*\\\\)?\");\nvar PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\".concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")[,|\\\\s]+(\").concat(CSS_UNIT, \")\\\\s*\\\\)?\");\nvar matchers = {\n    CSS_UNIT: new RegExp(CSS_UNIT),\n    rgb: new RegExp('rgb' + PERMISSIVE_MATCH3),\n    rgba: new RegExp('rgba' + PERMISSIVE_MATCH4),\n    hsl: new RegExp('hsl' + PERMISSIVE_MATCH3),\n    hsla: new RegExp('hsla' + PERMISSIVE_MATCH4),\n    hsv: new RegExp('hsv' + PERMISSIVE_MATCH3),\n    hsva: new RegExp('hsva' + PERMISSIVE_MATCH4),\n    hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n};\n/**\n * Permissive string parsing.  Take in a number of formats, and output an object\n * based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\n */\nexport function stringInputToObject(color) {\n    color = color.trim().toLowerCase();\n    if (color.length === 0) {\n        return false;\n    }\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color === 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: 'name' };\n    }\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match = matchers.rgb.exec(color);\n    if (match) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    match = matchers.rgba.exec(color);\n    if (match) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    match = matchers.hsl.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    match = matchers.hsla.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    match = matchers.hsv.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    match = matchers.hsva.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    match = matchers.hex8.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? 'name' : 'hex8',\n        };\n    }\n    match = matchers.hex6.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? 'name' : 'hex',\n        };\n    }\n    match = matchers.hex4.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1] + match[1]),\n            g: parseIntFromHex(match[2] + match[2]),\n            b: parseIntFromHex(match[3] + match[3]),\n            a: convertHexToDecimal(match[4] + match[4]),\n            format: named ? 'name' : 'hex8',\n        };\n    }\n    match = matchers.hex3.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1] + match[1]),\n            g: parseIntFromHex(match[2] + match[2]),\n            b: parseIntFromHex(match[3] + match[3]),\n            format: named ? 'name' : 'hex',\n        };\n    }\n    return false;\n}\n/**\n * Check to see if it looks like a CSS unit\n * (see `matchers` above for definition).\n */\nexport function isValidCSSUnit(color) {\n    return Boolean(matchers.CSS_UNIT.exec(String(color)));\n}\n","import { inputToRGB, rgbToHex, rgbToHsv } from '@ctrl/tinycolor';\nvar hueStep = 2; // \n\nvar saturationStep = 0.16; // \n\nvar saturationStep2 = 0.05; // \n\nvar brightnessStep1 = 0.05; // \n\nvar brightnessStep2 = 0.15; // \n\nvar lightColorCount = 5; // \n\nvar darkColorCount = 4; // \n// \n\nvar darkColorMap = [{\n  index: 7,\n  opacity: 0.15\n}, {\n  index: 6,\n  opacity: 0.25\n}, {\n  index: 5,\n  opacity: 0.3\n}, {\n  index: 5,\n  opacity: 0.45\n}, {\n  index: 5,\n  opacity: 0.65\n}, {\n  index: 5,\n  opacity: 0.85\n}, {\n  index: 4,\n  opacity: 0.9\n}, {\n  index: 3,\n  opacity: 0.95\n}, {\n  index: 2,\n  opacity: 0.97\n}, {\n  index: 1,\n  opacity: 0.98\n}];\n\n// Wrapper function ported from TinyColor.prototype.toHsv\n// Keep it here because of `hsv.h * 360`\nfunction toHsv(_ref) {\n  var r = _ref.r,\n      g = _ref.g,\n      b = _ref.b;\n  var hsv = rgbToHsv(r, g, b);\n  return {\n    h: hsv.h * 360,\n    s: hsv.s,\n    v: hsv.v\n  };\n} // Wrapper function ported from TinyColor.prototype.toHexString\n// Keep it here because of the prefix `#`\n\n\nfunction toHex(_ref2) {\n  var r = _ref2.r,\n      g = _ref2.g,\n      b = _ref2.b;\n  return \"#\".concat(rgbToHex(r, g, b, false));\n} // Wrapper function ported from TinyColor.prototype.mix, not treeshakable.\n// Amount in range [0, 1]\n// Assume color1 & color2 has no alpha, since the following src code did so.\n\n\nfunction mix(rgb1, rgb2, amount) {\n  var p = amount / 100;\n  var rgb = {\n    r: (rgb2.r - rgb1.r) * p + rgb1.r,\n    g: (rgb2.g - rgb1.g) * p + rgb1.g,\n    b: (rgb2.b - rgb1.b) * p + rgb1.b\n  };\n  return rgb;\n}\n\nfunction getHue(hsv, i, light) {\n  var hue; // \n\n  if (Math.round(hsv.h) >= 60 && Math.round(hsv.h) <= 240) {\n    hue = light ? Math.round(hsv.h) - hueStep * i : Math.round(hsv.h) + hueStep * i;\n  } else {\n    hue = light ? Math.round(hsv.h) + hueStep * i : Math.round(hsv.h) - hueStep * i;\n  }\n\n  if (hue < 0) {\n    hue += 360;\n  } else if (hue >= 360) {\n    hue -= 360;\n  }\n\n  return hue;\n}\n\nfunction getSaturation(hsv, i, light) {\n  // grey color don't change saturation\n  if (hsv.h === 0 && hsv.s === 0) {\n    return hsv.s;\n  }\n\n  var saturation;\n\n  if (light) {\n    saturation = hsv.s - saturationStep * i;\n  } else if (i === darkColorCount) {\n    saturation = hsv.s + saturationStep;\n  } else {\n    saturation = hsv.s + saturationStep2 * i;\n  } // \n\n\n  if (saturation > 1) {\n    saturation = 1;\n  } //  s  0.06-0.1 \n\n\n  if (light && i === lightColorCount && saturation > 0.1) {\n    saturation = 0.1;\n  }\n\n  if (saturation < 0.06) {\n    saturation = 0.06;\n  }\n\n  return Number(saturation.toFixed(2));\n}\n\nfunction getValue(hsv, i, light) {\n  var value;\n\n  if (light) {\n    value = hsv.v + brightnessStep1 * i;\n  } else {\n    value = hsv.v - brightnessStep2 * i;\n  }\n\n  if (value > 1) {\n    value = 1;\n  }\n\n  return Number(value.toFixed(2));\n}\n\nexport default function generate(color) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var patterns = [];\n  var pColor = inputToRGB(color);\n\n  for (var i = lightColorCount; i > 0; i -= 1) {\n    var hsv = toHsv(pColor);\n    var colorString = toHex(inputToRGB({\n      h: getHue(hsv, i, true),\n      s: getSaturation(hsv, i, true),\n      v: getValue(hsv, i, true)\n    }));\n    patterns.push(colorString);\n  }\n\n  patterns.push(toHex(pColor));\n\n  for (var _i = 1; _i <= darkColorCount; _i += 1) {\n    var _hsv = toHsv(pColor);\n\n    var _colorString = toHex(inputToRGB({\n      h: getHue(_hsv, _i),\n      s: getSaturation(_hsv, _i),\n      v: getValue(_hsv, _i)\n    }));\n\n    patterns.push(_colorString);\n  } // dark theme patterns\n\n\n  if (opts.theme === 'dark') {\n    return darkColorMap.map(function (_ref3) {\n      var index = _ref3.index,\n          opacity = _ref3.opacity;\n      var darkColorString = toHex(mix(inputToRGB(opts.backgroundColor || '#141414'), inputToRGB(patterns[index]), opacity * 100));\n      return darkColorString;\n    });\n  }\n\n  return patterns;\n}","import generate from \"./generate\";\nvar presetPrimaryColors = {\n  red: '#F5222D',\n  volcano: '#FA541C',\n  orange: '#FA8C16',\n  gold: '#FAAD14',\n  yellow: '#FADB14',\n  lime: '#A0D911',\n  green: '#52C41A',\n  cyan: '#13C2C2',\n  blue: '#1677FF',\n  geekblue: '#2F54EB',\n  purple: '#722ED1',\n  magenta: '#EB2F96',\n  grey: '#666666'\n};\nvar presetPalettes = {};\nvar presetDarkPalettes = {};\nObject.keys(presetPrimaryColors).forEach(function (key) {\n  presetPalettes[key] = generate(presetPrimaryColors[key]);\n  presetPalettes[key].primary = presetPalettes[key][5]; // dark presetPalettes\n\n  presetDarkPalettes[key] = generate(presetPrimaryColors[key], {\n    theme: 'dark',\n    backgroundColor: '#141414'\n  });\n  presetDarkPalettes[key].primary = presetDarkPalettes[key][5];\n});\nvar red = presetPalettes.red;\nvar volcano = presetPalettes.volcano;\nvar gold = presetPalettes.gold;\nvar orange = presetPalettes.orange;\nvar yellow = presetPalettes.yellow;\nvar lime = presetPalettes.lime;\nvar green = presetPalettes.green;\nvar cyan = presetPalettes.cyan;\nvar blue = presetPalettes.blue;\nvar geekblue = presetPalettes.geekblue;\nvar purple = presetPalettes.purple;\nvar magenta = presetPalettes.magenta;\nvar grey = presetPalettes.grey;\nvar gray = presetPalettes.grey;\nexport { generate, presetPalettes, presetDarkPalettes, presetPrimaryColors, red, volcano, orange, gold, yellow, lime, green, cyan, blue, geekblue, purple, magenta, grey, gray };","import { createContext } from 'react';\nvar IconContext = /*#__PURE__*/createContext({});\nexport default IconContext;","/* eslint-disable no-console */\nvar warned = {};\nvar preWarningFns = [];\n\n/**\n * Pre warning enable you to parse content before console.error.\n * Modify to null will prevent warning.\n */\nexport var preMessage = function preMessage(fn) {\n  preWarningFns.push(fn);\n};\nexport function warning(valid, message) {\n  // Support uglify\n  if (process.env.NODE_ENV !== 'production' && !valid && console !== undefined) {\n    var finalMessage = preWarningFns.reduce(function (msg, preMessageFn) {\n      return preMessageFn(msg !== null && msg !== void 0 ? msg : '', 'warning');\n    }, message);\n    if (finalMessage) {\n      console.error(\"Warning: \".concat(finalMessage));\n    }\n  }\n}\nexport function note(valid, message) {\n  // Support uglify\n  if (process.env.NODE_ENV !== 'production' && !valid && console !== undefined) {\n    var finalMessage = preWarningFns.reduce(function (msg, preMessageFn) {\n      return preMessageFn(msg !== null && msg !== void 0 ? msg : '', 'note');\n    }, message);\n    if (finalMessage) {\n      console.warn(\"Note: \".concat(finalMessage));\n    }\n  }\n}\nexport function resetWarned() {\n  warned = {};\n}\nexport function call(method, valid, message) {\n  if (!valid && !warned[message]) {\n    method(false, message);\n    warned[message] = true;\n  }\n}\nexport function warningOnce(valid, message) {\n  call(warning, valid, message);\n}\nexport function noteOnce(valid, message) {\n  call(note, valid, message);\n}\nwarningOnce.preMessage = preMessage;\nwarningOnce.resetWarned = resetWarned;\nwarningOnce.noteOnce = noteOnce;\nexport default warningOnce;\n/* eslint-enable */","import canUseDom from \"./canUseDom\";\nimport contains from \"./contains\";\nvar APPEND_ORDER = 'data-rc-order';\nvar MARK_KEY = \"rc-util-key\";\nvar containerCache = new Map();\nfunction getMark() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    mark = _ref.mark;\n  if (mark) {\n    return mark.startsWith('data-') ? mark : \"data-\".concat(mark);\n  }\n  return MARK_KEY;\n}\nfunction getContainer(option) {\n  if (option.attachTo) {\n    return option.attachTo;\n  }\n  var head = document.querySelector('head');\n  return head || document.body;\n}\nfunction getOrder(prepend) {\n  if (prepend === 'queue') {\n    return 'prependQueue';\n  }\n  return prepend ? 'prepend' : 'append';\n}\n\n/**\n * Find style which inject by rc-util\n */\nfunction findStyles(container) {\n  return Array.from((containerCache.get(container) || container).children).filter(function (node) {\n    return node.tagName === 'STYLE';\n  });\n}\nexport function injectCSS(css) {\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (!canUseDom()) {\n    return null;\n  }\n  var csp = option.csp,\n    prepend = option.prepend;\n  var styleNode = document.createElement('style');\n  styleNode.setAttribute(APPEND_ORDER, getOrder(prepend));\n  if (csp !== null && csp !== void 0 && csp.nonce) {\n    styleNode.nonce = csp === null || csp === void 0 ? void 0 : csp.nonce;\n  }\n  styleNode.innerHTML = css;\n  var container = getContainer(option);\n  var firstChild = container.firstChild;\n  if (prepend) {\n    // If is queue `prepend`, it will prepend first style and then append rest style\n    if (prepend === 'queue') {\n      var existStyle = findStyles(container).filter(function (node) {\n        return ['prepend', 'prependQueue'].includes(node.getAttribute(APPEND_ORDER));\n      });\n      if (existStyle.length) {\n        container.insertBefore(styleNode, existStyle[existStyle.length - 1].nextSibling);\n        return styleNode;\n      }\n    }\n\n    // Use `insertBefore` as `prepend`\n    container.insertBefore(styleNode, firstChild);\n  } else {\n    container.appendChild(styleNode);\n  }\n  return styleNode;\n}\nfunction findExistNode(key) {\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var container = getContainer(option);\n  return findStyles(container).find(function (node) {\n    return node.getAttribute(getMark(option)) === key;\n  });\n}\nexport function removeCSS(key) {\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var existNode = findExistNode(key, option);\n  if (existNode) {\n    var container = getContainer(option);\n    container.removeChild(existNode);\n  }\n}\n\n/**\n * qiankun will inject `appendChild` to insert into other\n */\nfunction syncRealContainer(container, option) {\n  var cachedRealContainer = containerCache.get(container);\n\n  // Find real container when not cached or cached container removed\n  if (!cachedRealContainer || !contains(document, cachedRealContainer)) {\n    var placeholderStyle = injectCSS('', option);\n    var parentNode = placeholderStyle.parentNode;\n    containerCache.set(container, parentNode);\n    container.removeChild(placeholderStyle);\n  }\n}\n\n/**\n * manually clear container cache to avoid global cache in unit testes\n */\nexport function clearContainerCache() {\n  containerCache.clear();\n}\nexport function updateCSS(css, key) {\n  var option = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var container = getContainer(option);\n\n  // Sync real parent\n  syncRealContainer(container, option);\n  var existNode = findExistNode(key, option);\n  if (existNode) {\n    var _option$csp, _option$csp2;\n    if ((_option$csp = option.csp) !== null && _option$csp !== void 0 && _option$csp.nonce && existNode.nonce !== ((_option$csp2 = option.csp) === null || _option$csp2 === void 0 ? void 0 : _option$csp2.nonce)) {\n      var _option$csp3;\n      existNode.nonce = (_option$csp3 = option.csp) === null || _option$csp3 === void 0 ? void 0 : _option$csp3.nonce;\n    }\n    if (existNode.innerHTML !== css) {\n      existNode.innerHTML = css;\n    }\n    return existNode;\n  }\n  var newNode = injectCSS(css, option);\n  newNode.setAttribute(getMark(option), key);\n  return newNode;\n}","export default function canUseDom() {\n  return !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n}","export default function contains(root, n) {\n  if (!root) {\n    return false;\n  }\n\n  // Use native if support\n  if (root.contains) {\n    return root.contains(n);\n  }\n\n  // `document.contains` not support with IE11\n  var node = n;\n  while (node) {\n    if (node === root) {\n      return true;\n    }\n    node = node.parentNode;\n  }\n  return false;\n}","function getRoot(ele) {\n  var _ele$getRootNode;\n  return ele === null || ele === void 0 ? void 0 : (_ele$getRootNode = ele.getRootNode) === null || _ele$getRootNode === void 0 ? void 0 : _ele$getRootNode.call(ele);\n}\n\n/**\n * Check if is in shadowRoot\n */\nexport function inShadow(ele) {\n  return getRoot(ele) !== (ele === null || ele === void 0 ? void 0 : ele.ownerDocument);\n}\n\n/**\n * Return shadowRoot if possible\n */\nexport function getShadowRoot(ele) {\n  return inShadow(ele) ? getRoot(ele) : null;\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { generate as generateColor } from '@ant-design/colors';\nimport React, { useContext, useEffect } from 'react';\nimport warn from \"rc-util/es/warning\";\nimport { updateCSS } from \"rc-util/es/Dom/dynamicCSS\";\nimport { getShadowRoot } from \"rc-util/es/Dom/shadow\";\nimport IconContext from \"./components/Context\";\nexport function warning(valid, message) {\n  warn(valid, \"[@ant-design/icons] \".concat(message));\n}\nexport function isIconDefinition(target) {\n  return _typeof(target) === 'object' && typeof target.name === 'string' && typeof target.theme === 'string' && (_typeof(target.icon) === 'object' || typeof target.icon === 'function');\n}\nexport function normalizeAttrs() {\n  var attrs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return Object.keys(attrs).reduce(function (acc, key) {\n    var val = attrs[key];\n    switch (key) {\n      case 'class':\n        acc.className = val;\n        delete acc.class;\n        break;\n      default:\n        acc[key] = val;\n    }\n    return acc;\n  }, {});\n}\nexport function generate(node, key, rootProps) {\n  if (!rootProps) {\n    return /*#__PURE__*/React.createElement(node.tag, _objectSpread({\n      key: key\n    }, normalizeAttrs(node.attrs)), (node.children || []).map(function (child, index) {\n      return generate(child, \"\".concat(key, \"-\").concat(node.tag, \"-\").concat(index));\n    }));\n  }\n  return /*#__PURE__*/React.createElement(node.tag, _objectSpread(_objectSpread({\n    key: key\n  }, normalizeAttrs(node.attrs)), rootProps), (node.children || []).map(function (child, index) {\n    return generate(child, \"\".concat(key, \"-\").concat(node.tag, \"-\").concat(index));\n  }));\n}\nexport function getSecondaryColor(primaryColor) {\n  // choose the second color\n  return generateColor(primaryColor)[0];\n}\nexport function normalizeTwoToneColors(twoToneColor) {\n  if (!twoToneColor) {\n    return [];\n  }\n  return Array.isArray(twoToneColor) ? twoToneColor : [twoToneColor];\n}\n\n// These props make sure that the SVG behaviours like general text.\n// Reference: https://blog.prototypr.io/align-svg-icons-to-text-and-say-goodbye-to-font-icons-d44b3d7b26b4\nexport var svgBaseProps = {\n  width: '1em',\n  height: '1em',\n  fill: 'currentColor',\n  'aria-hidden': 'true',\n  focusable: 'false'\n};\nexport var iconStyles = \"\\n.anticon {\\n  display: inline-block;\\n  color: inherit;\\n  font-style: normal;\\n  line-height: 0;\\n  text-align: center;\\n  text-transform: none;\\n  vertical-align: -0.125em;\\n  text-rendering: optimizeLegibility;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.anticon > * {\\n  line-height: 1;\\n}\\n\\n.anticon svg {\\n  display: inline-block;\\n}\\n\\n.anticon::before {\\n  display: none;\\n}\\n\\n.anticon .anticon-icon {\\n  display: block;\\n}\\n\\n.anticon[tabindex] {\\n  cursor: pointer;\\n}\\n\\n.anticon-spin::before,\\n.anticon-spin {\\n  display: inline-block;\\n  -webkit-animation: loadingCircle 1s infinite linear;\\n  animation: loadingCircle 1s infinite linear;\\n}\\n\\n@-webkit-keyframes loadingCircle {\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n@keyframes loadingCircle {\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\";\nexport var useInsertStyles = function useInsertStyles(eleRef) {\n  var _useContext = useContext(IconContext),\n    csp = _useContext.csp,\n    prefixCls = _useContext.prefixCls;\n  var mergedStyleStr = iconStyles;\n  if (prefixCls) {\n    mergedStyleStr = mergedStyleStr.replace(/anticon/g, prefixCls);\n  }\n  useEffect(function () {\n    var ele = eleRef.current;\n    var shadowRoot = getShadowRoot(ele);\n    updateCSS(mergedStyleStr, '@ant-design-icons', {\n      prepend: true,\n      csp: csp,\n      attachTo: shadowRoot\n    });\n  }, []);\n};","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nvar _excluded = [\"icon\", \"className\", \"onClick\", \"style\", \"primaryColor\", \"secondaryColor\"];\nimport * as React from 'react';\nimport { generate, getSecondaryColor, isIconDefinition, warning, useInsertStyles } from \"../utils\";\nvar twoToneColorPalette = {\n  primaryColor: '#333',\n  secondaryColor: '#E6E6E6',\n  calculated: false\n};\nfunction setTwoToneColors(_ref) {\n  var primaryColor = _ref.primaryColor,\n    secondaryColor = _ref.secondaryColor;\n  twoToneColorPalette.primaryColor = primaryColor;\n  twoToneColorPalette.secondaryColor = secondaryColor || getSecondaryColor(primaryColor);\n  twoToneColorPalette.calculated = !!secondaryColor;\n}\nfunction getTwoToneColors() {\n  return _objectSpread({}, twoToneColorPalette);\n}\nvar IconBase = function IconBase(props) {\n  var icon = props.icon,\n    className = props.className,\n    onClick = props.onClick,\n    style = props.style,\n    primaryColor = props.primaryColor,\n    secondaryColor = props.secondaryColor,\n    restProps = _objectWithoutProperties(props, _excluded);\n  var svgRef = React.useRef();\n  var colors = twoToneColorPalette;\n  if (primaryColor) {\n    colors = {\n      primaryColor: primaryColor,\n      secondaryColor: secondaryColor || getSecondaryColor(primaryColor)\n    };\n  }\n  useInsertStyles(svgRef);\n  warning(isIconDefinition(icon), \"icon should be icon definiton, but got \".concat(icon));\n  if (!isIconDefinition(icon)) {\n    return null;\n  }\n  var target = icon;\n  if (target && typeof target.icon === 'function') {\n    target = _objectSpread(_objectSpread({}, target), {}, {\n      icon: target.icon(colors.primaryColor, colors.secondaryColor)\n    });\n  }\n  return generate(target.icon, \"svg-\".concat(target.name), _objectSpread(_objectSpread({\n    className: className,\n    onClick: onClick,\n    style: style,\n    'data-icon': target.name,\n    width: '1em',\n    height: '1em',\n    fill: 'currentColor',\n    'aria-hidden': 'true'\n  }, restProps), {}, {\n    ref: svgRef\n  }));\n};\nIconBase.displayName = 'IconReact';\nIconBase.getTwoToneColors = getTwoToneColors;\nIconBase.setTwoToneColors = setTwoToneColors;\nexport default IconBase;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport ReactIcon from \"./IconBase\";\nimport { normalizeTwoToneColors } from \"../utils\";\nexport function setTwoToneColor(twoToneColor) {\n  var _normalizeTwoToneColo = normalizeTwoToneColors(twoToneColor),\n    _normalizeTwoToneColo2 = _slicedToArray(_normalizeTwoToneColo, 2),\n    primaryColor = _normalizeTwoToneColo2[0],\n    secondaryColor = _normalizeTwoToneColo2[1];\n  return ReactIcon.setTwoToneColors({\n    primaryColor: primaryColor,\n    secondaryColor: secondaryColor\n  });\n}\nexport function getTwoToneColor() {\n  var colors = ReactIcon.getTwoToneColors();\n  if (!colors.calculated) {\n    return colors.primaryColor;\n  }\n  return [colors.primaryColor, colors.secondaryColor];\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"className\", \"icon\", \"spin\", \"rotate\", \"tabIndex\", \"onClick\", \"twoToneColor\"];\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { blue } from '@ant-design/colors';\nimport Context from \"./Context\";\nimport ReactIcon from \"./IconBase\";\nimport { getTwoToneColor, setTwoToneColor } from \"./twoTonePrimaryColor\";\nimport { normalizeTwoToneColors } from \"../utils\";\n// Initial setting\n// should move it to antd main repo?\nsetTwoToneColor(blue.primary);\n\n// https://github.com/DefinitelyTyped/DefinitelyTyped/issues/34757#issuecomment-488848720\n\nvar Icon = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _classNames;\n  var className = props.className,\n    icon = props.icon,\n    spin = props.spin,\n    rotate = props.rotate,\n    tabIndex = props.tabIndex,\n    onClick = props.onClick,\n    twoToneColor = props.twoToneColor,\n    restProps = _objectWithoutProperties(props, _excluded);\n  var _React$useContext = React.useContext(Context),\n    _React$useContext$pre = _React$useContext.prefixCls,\n    prefixCls = _React$useContext$pre === void 0 ? 'anticon' : _React$useContext$pre,\n    rootClassName = _React$useContext.rootClassName;\n  var classString = classNames(rootClassName, prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(icon.name), !!icon.name), _defineProperty(_classNames, \"\".concat(prefixCls, \"-spin\"), !!spin || icon.name === 'loading'), _classNames), className);\n  var iconTabIndex = tabIndex;\n  if (iconTabIndex === undefined && onClick) {\n    iconTabIndex = -1;\n  }\n  var svgStyle = rotate ? {\n    msTransform: \"rotate(\".concat(rotate, \"deg)\"),\n    transform: \"rotate(\".concat(rotate, \"deg)\")\n  } : undefined;\n  var _normalizeTwoToneColo = normalizeTwoToneColors(twoToneColor),\n    _normalizeTwoToneColo2 = _slicedToArray(_normalizeTwoToneColo, 2),\n    primaryColor = _normalizeTwoToneColo2[0],\n    secondaryColor = _normalizeTwoToneColo2[1];\n  return /*#__PURE__*/React.createElement(\"span\", _extends({\n    role: \"img\",\n    \"aria-label\": icon.name\n  }, restProps, {\n    ref: ref,\n    tabIndex: iconTabIndex,\n    onClick: onClick,\n    className: classString\n  }), /*#__PURE__*/React.createElement(ReactIcon, {\n    icon: icon,\n    primaryColor: primaryColor,\n    secondaryColor: secondaryColor,\n    style: svgStyle\n  }));\n});\nIcon.displayName = 'AntdIcon';\nIcon.getTwoToneColor = getTwoToneColor;\nIcon.setTwoToneColor = setTwoToneColor;\nexport default Icon;","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport CloseCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/CloseCircleOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar CloseCircleOutlined = function CloseCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: CloseCircleOutlinedSvg\n  }));\n};\nif (process.env.NODE_ENV !== 'production') {\n  CloseCircleOutlined.displayName = 'CloseCircleOutlined';\n}\nexport default /*#__PURE__*/React.forwardRef(CloseCircleOutlined);"],"sourceRoot":""}